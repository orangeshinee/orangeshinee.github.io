<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>闲谈梦落花</title><link>https://blog.shineee.site/</link><description>Recent content on 闲谈梦落花</description><generator>Hugo -- gohugo.io</generator><language>zh-cn</language><lastBuildDate>Wed, 18 Jun 2025 11:45:38 +0800</lastBuildDate><atom:link href="https://blog.shineee.site/index.xml" rel="self" type="application/rss+xml"/><item><title>Obsidian 微信读书插件适配 Thino</title><link>https://blog.shineee.site/p/2025/06/18/obsidian-%E5%BE%AE%E4%BF%A1%E8%AF%BB%E4%B9%A6%E6%8F%92%E4%BB%B6%E9%80%82%E9%85%8D-thino/</link><pubDate>Wed, 18 Jun 2025 09:45:25 +0800</pubDate><guid>https://blog.shineee.site/p/2025/06/18/obsidian-%E5%BE%AE%E4%BF%A1%E8%AF%BB%E4%B9%A6%E6%8F%92%E4%BB%B6%E9%80%82%E9%85%8D-thino/</guid><description>&lt;img src="https://pics.shineee.site/2025/06/c88de1e3fd640dee2bfb915118576867.jpg" alt="Featured image of post Obsidian 微信读书插件适配 Thino" />&lt;h2 id="项目背景与目标">项目背景与目标
&lt;/h2>&lt;p>&lt;a class="link" href="https://github.com/orangeshinee/obsidian-weread-plugin-fork/tree/main" target="_blank" rel="noopener"
>本项目 obsidian-weread-plugin-thino&lt;/a>基于社区版 &lt;a class="link" href="https://github.com/zhaohongxuan/obsidian-weread-plugin" target="_blank" rel="noopener"
>obsidian-weread-plugin&lt;/a> 进行深度定制，旨在更好地服务于微信读书用户，尤其是需要将读书笔记同步到 &lt;a class="link" href="https://pkmer.cn/products/thino/" target="_blank" rel="noopener"
>Thino插件&lt;/a>的非Pro用户。通过本插件，用户可以实现微信读书高亮、书评等内容的自动化同步、分类与标签化管理。&lt;/p>
&lt;h2 id="主要功能改进">主要功能改进
&lt;/h2>&lt;h3 id="1-thino-适配与推送格式优化">1. Thino 适配与推送格式优化
&lt;/h3>&lt;ul>
&lt;li>推送内容格式已适配 Thino 的 Memos 需求，支持 Pro 会员直接集成。&lt;/li>
&lt;li>日记推送内容可自定义，满足不同平台的格式要求。&lt;/li>
&lt;/ul>
&lt;h3 id="2-自定义标签功能">2. 自定义标签功能
&lt;/h3>&lt;ul>
&lt;li>支持在插件设置页自定义标签内容（如 &lt;code>#微信读书&lt;/code>）。&lt;/li>
&lt;li>标签可自动添加到每条日历推送（如 Thino/Memos 格式）引用行的前面，便于后续分类、检索和自动化处理。&lt;/li>
&lt;/ul>
&lt;h3 id="3-动态模板变量支持">3. 动态模板变量支持
&lt;/h3>&lt;ul>
&lt;li>自定义标签支持 nunjucks 模板语法，可引用如 &lt;code>{{metaData.title}}&lt;/code>、&lt;code>{{metaData.author}}&lt;/code> 等变量。&lt;/li>
&lt;li>例如设置 &lt;code>#{{metaData.title}}&lt;/code>，则每条推送内容会自动带上当前书名作为标签，实现更智能的内容标记。&lt;/li>
&lt;/ul>
&lt;h2 id="核心代码修改说明">核心代码修改说明
&lt;/h2>&lt;h3 id="增加序章内容笔记解析">增加序章内容笔记解析
&lt;/h3>&lt;ul>
&lt;li>&lt;code>parseResponse.ts&lt;/code>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-ts" data-lang="ts">&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// 提取序章笔记（如果存在）
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="kr">const&lt;/span> &lt;span class="nx">bookReview&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">notebook&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">bookReview&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">chapterReviews&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">bookReview&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">chapterReviews&lt;/span> &lt;span class="o">||&lt;/span> &lt;span class="p">[])&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">.&lt;/span>&lt;span class="nx">flatMap&lt;/span>&lt;span class="p">((&lt;/span>&lt;span class="nx">chapterReview&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="o">=&amp;gt;&lt;/span> &lt;span class="nx">chapterReview&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">reviews&lt;/span> &lt;span class="o">||&lt;/span> &lt;span class="p">[])&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">.&lt;/span>&lt;span class="nx">filter&lt;/span>&lt;span class="p">((&lt;/span>&lt;span class="nx">review&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="o">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">createTime&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nb">window&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">moment&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">review&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">created&lt;/span> &lt;span class="o">*&lt;/span> &lt;span class="mi">1000&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="nx">format&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;YYYYMMDD&amp;#39;&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="nx">today&lt;/span> &lt;span class="o">===&lt;/span> &lt;span class="nx">createTime&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">});&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;/ul>
&lt;h3 id="修改推送到日记的格式">修改推送到日记的格式
&lt;/h3>&lt;ul>
&lt;li>&lt;code>fileManager.ts&lt;/code>&lt;/li>
&lt;li>Thino是根据时间来渲染的，所以最后是 &lt;code>- 时间 #标签 blockId 格式&lt;/code>&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-ts" data-lang="ts">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">private&lt;/span> &lt;span class="nx">buildAppendContent&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">dailyNoteRefs&lt;/span>: &lt;span class="kt">DailyNoteReferenece&lt;/span>&lt;span class="p">[])&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="kt">string&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">rawCustomTag&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="kr">get&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">settingsStore&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="nx">customTag&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">appendContent&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">dailyNoteRefs&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">.&lt;/span>&lt;span class="nx">map&lt;/span>&lt;span class="p">((&lt;/span>&lt;span class="nx">dailyNoteRef&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="o">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// 修改写入日记的格式，适配Thino
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="c1">// 格式为：- 12:00:00 ![[bookId#^refBlockId]]
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="kr">const&lt;/span> &lt;span class="nx">metaData&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">dailyNoteRef&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">metaData&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// 支持nunjucks模板渲染customTag
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="kr">const&lt;/span> &lt;span class="nx">customTag&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">rawCustomTag&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">?&lt;/span> &lt;span class="nx">nunjucks&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">renderString&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">rawCustomTag&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">metaData&lt;/span> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;&amp;#39;&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">blockList&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">dailyNoteRef&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">refBlocks&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">map&lt;/span>&lt;span class="p">((&lt;/span>&lt;span class="nx">refBlock&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="o">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">createTime&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">refBlock&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">createTime&lt;/span> &lt;span class="o">*&lt;/span> &lt;span class="mi">1000&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">createDate&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nb">window&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">moment&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">createTime&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="nx">format&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;HH:mm:ss&amp;#39;&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="sb">`- &lt;/span>&lt;span class="si">${&lt;/span>&lt;span class="nx">createDate&lt;/span>&lt;span class="si">}&lt;/span>&lt;span class="sb"> ![[&lt;/span>&lt;span class="si">${&lt;/span>&lt;span class="k">this&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">getFileName&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">dailyNoteRef&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">metaData&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="si">}&lt;/span>&lt;span class="sb">#^&lt;/span>&lt;span class="si">${&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">refBlock&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">refBlockId&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="si">}&lt;/span>&lt;span class="sb">]]`&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="sb">`- &lt;/span>&lt;span class="si">${&lt;/span>&lt;span class="nx">createDate&lt;/span>&lt;span class="si">}&lt;/span>&lt;span class="sb"> &lt;/span>&lt;span class="si">${&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">customTag&lt;/span> &lt;span class="o">?&lt;/span> &lt;span class="s1">&amp;#39; &amp;#39;&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="nx">customTag&lt;/span> &lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="si">}&lt;/span>&lt;span class="sb"> ![[&lt;/span>&lt;span class="si">${&lt;/span>&lt;span class="k">this&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">getFileName&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">metaData&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="si">}&lt;/span>&lt;span class="sb">#^&lt;/span>&lt;span class="si">${&lt;/span>&lt;span class="nx">refBlock&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">refBlockId&lt;/span>&lt;span class="si">}&lt;/span>&lt;span class="sb">]]`&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="nx">Add&lt;/span> &lt;span class="nx">commentMore&lt;/span> &lt;span class="nx">actions&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">});&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">bodyContent&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">blockList&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">join&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;\n&amp;#39;&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="nx">bodyContent&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="增加自定义标签设置">增加自定义标签设置
&lt;/h3>&lt;ul>
&lt;li>增加一个新的&lt;code>customTag&lt;/code>的设置项，用户可以自定义标签内容&lt;/li>
&lt;li>增加对nunjucks模板渲染，这样在 [[#修改推送到日记的格式]] 可以将模板中的变量进行渲染，增加自定义程度；&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-ts" data-lang="ts">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">private&lt;/span> &lt;span class="nx">customTagSetting&lt;/span>&lt;span class="p">()&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="k">void&lt;/span> &lt;span class="p">{&lt;/span>&lt;span class="nx">Add&lt;/span> &lt;span class="nx">commentMore&lt;/span> &lt;span class="nx">actions&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">new&lt;/span> &lt;span class="nx">Setting&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="k">this&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">containerEl&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">.&lt;/span>&lt;span class="nx">setName&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;自定义标签&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">.&lt;/span>&lt;span class="nx">setDesc&lt;/span>&lt;span class="p">(&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s1">&amp;#39;为所有导出的笔记添加一个自定义标签，可用于分类或自动化处理，可以使用模板中的变量，例如{{metaData.title}}等，需要在前面加上metaData&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">.&lt;/span>&lt;span class="nx">addText&lt;/span>&lt;span class="p">((&lt;/span>&lt;span class="nx">input&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="o">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">input&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">.&lt;/span>&lt;span class="nx">setPlaceholder&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;如：#微信读书/{{metaData.title}}&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">.&lt;/span>&lt;span class="nx">setValue&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kr">get&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">settingsStore&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="nx">customTag&lt;/span> &lt;span class="o">||&lt;/span> &lt;span class="s1">&amp;#39;&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">.&lt;/span>&lt;span class="nx">onChange&lt;/span>&lt;span class="p">((&lt;/span>&lt;span class="nx">value&lt;/span>: &lt;span class="kt">string&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="o">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">settingsStore&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">actions&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">setCustomTag&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">value&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">});&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">});&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="使用方法与实际效果">使用方法与实际效果
&lt;/h2>&lt;ol>
&lt;li>在插件设置页填写自定义标签内容（支持模板变量）。&lt;/li>
&lt;li>同步微信读书笔记后，所有推送内容会自动带上自定义标签。&lt;/li>
&lt;li>标签内容可根据书名、作者等动态变化，便于后续自动化处理。&lt;/li>
&lt;/ol>
&lt;p>&lt;strong>实际效果截图：&lt;/strong>&lt;/p>
&lt;ul>
&lt;li>
&lt;p>设置界面
&lt;img src="https://pics.shineee.site/2025/06/7bcea3343f0831883441f3a57faa9fd1.png"
loading="lazy"
alt="设置界面"
>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>日记显示
&lt;img src="https://pics.shineee.site/2025/06/a2b5a2e0e7186a883ff87a08df913e6e.png"
loading="lazy"
alt="日记显示"
>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Thino显示
&lt;img src="https://pics.shineee.site/2025/06/4a5cc6b8e50f8584bb85503eb23baf71.png"
loading="lazy"
alt="Thino显示"
>&lt;/p>
&lt;/li>
&lt;/ul>
&lt;h2 id="适用场景与价值">适用场景与价值
&lt;/h2>&lt;ul>
&lt;li>适合有微信读书高亮、书评等内容同步需求的 Obsidian 用户。&lt;/li>
&lt;li>尤其适合需要将笔记推送到 Thino、Memos 等日历/知识管理平台的用户。&lt;/li>
&lt;li>支持灵活标签与模板变量，极大提升内容的可检索性与自动化处理能力。&lt;/li>
&lt;/ul>
&lt;hr>
&lt;p>如你是 Thino Pro 会员，可参考&lt;a class="link" href="https://github.com/Quorafind/Obsidian-Thino/discussions/532" target="_blank" rel="noopener"
>这个例子&lt;/a>直接集成，无需单独使用本插件。&lt;/p>
&lt;h2 id="相关链接">相关链接
&lt;/h2>&lt;ul>
&lt;li>&lt;a class="link" href="https://github.com/orangeshinee/obsidian-weread-plugin-fork/tree/main" target="_blank" rel="noopener"
>obsidian-weread-plugin-thino&lt;/a> - 本项目仓库&lt;/li>
&lt;li>&lt;a class="link" href="https://github.com/zhaohongxuan/obsidian-weread-plugin" target="_blank" rel="noopener"
>obsidian-weread-plugin&lt;/a> - 社区版微信读书插件&lt;/li>
&lt;li>&lt;a class="link" href="https://pkmer.cn/products/thino/" target="_blank" rel="noopener"
>Thino插件&lt;/a> - Thino官方插件&lt;/li>
&lt;li>&lt;a class="link" href="https://github.com/Quorafind/Obsidian-Thino/discussions/532" target="_blank" rel="noopener"
>Thino Pro集成示例&lt;/a> - Thino Pro会员集成方案&lt;/li>
&lt;/ul></description></item><item><title>Obsidian 个人知识库搭建实践：从配置到应用</title><link>https://blog.shineee.site/p/2024/04/08/obsidian-%E4%B8%AA%E4%BA%BA%E7%9F%A5%E8%AF%86%E5%BA%93%E6%90%AD%E5%BB%BA%E5%AE%9E%E8%B7%B5%E4%BB%8E%E9%85%8D%E7%BD%AE%E5%88%B0%E5%BA%94%E7%94%A8/</link><pubDate>Mon, 08 Apr 2024 10:00:00 +0800</pubDate><guid>https://blog.shineee.site/p/2024/04/08/obsidian-%E4%B8%AA%E4%BA%BA%E7%9F%A5%E8%AF%86%E5%BA%93%E6%90%AD%E5%BB%BA%E5%AE%9E%E8%B7%B5%E4%BB%8E%E9%85%8D%E7%BD%AE%E5%88%B0%E5%BA%94%E7%94%A8/</guid><description>&lt;img src="https://pics.shineee.site/2025/04/df4dc34e306b63b4bedb67135828f99b.png" alt="Featured image of post Obsidian 个人知识库搭建实践：从配置到应用" />&lt;p>近日拜读了 guizang 老师关于 #Obsidian 的精彩博文（&lt;a class="link" href="https://mp.weixin.qq.com/s/VRQ_QWjuUqvJC8FeAZgvzw" target="_blank" rel="noopener"
>链接&lt;/a>），不禁勾起了我与这款强大笔记软件的点滴回忆。曾几何时，我也曾希望借助 Obsidian 打造属于自己的知识宝库，然而那时浅尝辄止，笔记散落各处，未能成体系，实属憾事。&lt;/p>
&lt;p>在信息爆炸的时代，Readwise、Cubox、Flomo 等工具层出不穷，各具优势，却也让信息碎片化，分散在各个角落，检索整合颇为不便。痛定思痛，我决定重新出发，以 Obsidian 为核心，系统整合博客草稿、网页剪藏、读书笔记等各类信息流，构筑一座真正属于自己的知识殿堂。&lt;/p>
&lt;hr>
&lt;h2 id="安装-obsidian万丈高楼平地起">安装 Obsidian：万丈高楼平地起
&lt;/h2>&lt;p>第一步自然是迎接主角登场。从 Obsidian 官方网站下载最新版本进行安装，不再赘述。&lt;/p>
&lt;h2 id="配置网页剪藏信息输入的第一站">配置网页剪藏：信息输入的第一站
&lt;/h2>&lt;p>信息的高效输入，是知识管理的起点。参考 guizang 老师的经验，选择了OB 的官方网页剪藏工具，通过插件和配置的API接口，将网上的灵感、资料快捷地导入 Obsidian，确保信息流顺畅汇入知识库。&lt;/p>
&lt;h2 id="搭建云端同步多端无缝数据无忧">搭建云端同步：多端无缝，数据无忧
&lt;/h2>&lt;p>为了实现多设备间的无缝切换与数据安全，稳妥的同步方案必不可少。我采用了 &lt;code>remotely-sync&lt;/code> 插件，结合 OneDrive 云存储，实现笔记库的自动同步与备份。其实也可以用 cloudflare 的 R2 存储，不过我的 OneDrive 容量大，不用白不用。其次国内的同步速度还 OK。&lt;/p>
&lt;h2 id="构建图片存储方案图文并茂行云流水">构建图片存储方案：图文并茂，行云流水
&lt;/h2>&lt;p>图片管理是 Obsidian 使用中常见的难题。为了获得更优体验，我选择了 Cloudflare R2 作为图床，并进行了以下配置：&lt;/p>
&lt;h3 id="图床配置">图床配置
&lt;/h3>&lt;p>相关文章比较多，不赘述，参考&lt;a class="link" href="https://blog.esing.dev/2024/08/29/cloudflare-r2-ims/" target="_blank" rel="noopener"
>使用 Cloudflare R2 存储桶搭建图床 | Esing 的小站&lt;/a>&lt;/p>
&lt;h3 id="上传工具">上传工具
&lt;/h3>&lt;p>摈弃图形界面的 PicGo App，转而使用更为轻便高效的 PicGo Core 命令行工具，简单高效。
&lt;a class="link" href="https://picgo.github.io/PicGo-Core-Doc/" target="_blank" rel="noopener"
>官网链接&lt;/a>&lt;/p>
&lt;ul>
&lt;li>
&lt;p>全局安装
&lt;code>npm install picgo -g&lt;/code>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>配置 R2
picgo core 本身不支持 &lt;code>S3&lt;/code> ，所以这里借助 &lt;a class="link" href="https://github.com/wayjam/picgo-plugin-s3/tree/main" target="_blank" rel="noopener"
>&lt;code>picgo-plugin-s3&lt;/code>&lt;/a> 项目，在 PicGo Core 中配置好 Cloudflare R2 的访问凭证和存储桶信息。&lt;/p>
&lt;/li>
&lt;/ul>
&lt;p>安装插件 &lt;code>picgo set uploader aws-s3&lt;/code>&lt;/p>
&lt;p>参考配置&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-json" data-lang="json">&lt;span class="line">&lt;span class="cl">&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;picBed&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;uploader&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;aws-s3&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;current&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;aws-s3&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;aws-s3&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;accessKeyID&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;xxx&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;secretAccessKey&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;xxx&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;bucketName&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;pics&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;uploadPath&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;{year}/{month}/{md5}.{extName}&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;region&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;auto&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;endpoint&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;https://xxx.r2.cloudflarestorage.com&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;rejectUnauthorized&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="kc">false&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;acl&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;public-read&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;pathStyleAccess&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="kc">true&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;outputURLPattern&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;{protocol}://example.com/{path}&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;picgoPlugins&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;picgo-plugin-s3&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="kc">true&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>配置完成后，可以测试下，看看地址是否与 R2 上的地址匹配，如果上传成功，但是生成的链接不一致，应该是 &lt;code>outputURLPattern&lt;/code> 的设置问题，请参考项目文档进行修改；
&lt;img src="https://pics.shineee.site/2025/04/73dcb6e4d8f6f1462f4d8c09a292ac92.png"
loading="lazy"
alt="上传案例"
>&lt;/p>
&lt;h3 id="自动上传">自动上传
&lt;/h3>&lt;p>在 Obsidian 中安装 &lt;a class="link" href="https://github.com/renmu123/obsidian-image-auto-upload-plugin" target="_blank" rel="noopener"
>&lt;code>obsidian-image-auto-upload-plugin&lt;/code>&lt;/a>，实现复制粘贴图片时自动上传到 R2 图床，免去手动操作的繁琐。&lt;/p>
&lt;h4 id="遇到个小坑">遇到个小坑
&lt;/h4>&lt;p>配置过程中，在 macOS 下遇到 PicGo 命令无法识别的情况。参考&lt;a class="link" href="https://github.com/renmu123/obsidian-image-auto-upload-plugin/issues/20" target="_blank" rel="noopener"
>相关 Issue&lt;/a>，将插件命令设置为&lt;br>
&lt;code>export PATH=&amp;quot;/opt/homebrew/bin:$PATH&amp;quot; &amp;amp;&amp;amp; /opt/homebrew/bin/picgo u&lt;/code>，成功解决问题。&lt;/p>
&lt;hr>
&lt;h2 id="尾声重塑知识管理的起点">尾声：重塑知识管理的起点
&lt;/h2>&lt;p>至此，Obsidian 的核心配置告一段落。这不仅是一场工具的升级，更是对个人知识管理体系的重塑。前路漫漫，唯有日拱一卒，方能将这片知识的土地耕耘成丰饶的园地，滋养心智，助力成长。未来，愿与 Obsidian 共同书写属于自己的精彩篇章。&lt;/p>
&lt;hr>
&lt;h1 id="相关链接">相关链接
&lt;/h1>&lt;ul>
&lt;li>guizang 老师 Obsidian 经验分享：&lt;br>
&lt;a class="link" href="https://mp.weixin.qq.com/s/VRQ_QWjuUqvJC8FeAZgvzw" target="_blank" rel="noopener"
>https://mp.weixin.qq.com/s/VRQ_QWjuUqvJC8FeAZgvzw&lt;/a>&lt;/li>
&lt;li>&lt;code>picgo-plugin-s3&lt;/code> 插件：&lt;br>
&lt;a class="link" href="https://github.com/wayjam/picgo-plugin-s3/tree/main" target="_blank" rel="noopener"
>https://github.com/wayjam/picgo-plugin-s3/tree/main&lt;/a>&lt;/li>
&lt;li>&lt;code>obsidian-image-auto-upload-plugin&lt;/code> 插件：&lt;br>
&lt;a class="link" href="https://github.com/renmu123/obsidian-image-auto-upload-plugin" target="_blank" rel="noopener"
>https://github.com/renmu123/obsidian-image-auto-upload-plugin&lt;/a>&lt;/li>
&lt;li>PicGo 路径问题讨论：&lt;br>
&lt;a class="link" href="https://github.com/renmu123/obsidian-image-auto-upload-plugin/issues/20" target="_blank" rel="noopener"
>https://github.com/renmu123/obsidian-image-auto-upload-plugin/issues/20&lt;/a>&lt;/li>
&lt;/ul></description></item><item><title>Hugo博客相册功能实现</title><link>https://blog.shineee.site/p/2024/04/02/hugo-gallery-photo-custom/</link><pubDate>Tue, 02 Apr 2024 11:00:00 +0800</pubDate><guid>https://blog.shineee.site/p/2024/04/02/hugo-gallery-photo-custom/</guid><description>&lt;img src="https://blog.shineee.site/p/2024/04/02/hugo-gallery-photo-custom/cover.png" alt="Featured image of post Hugo博客相册功能实现" />&lt;h2 id="前言">前言
&lt;/h2>&lt;p>在使用Hugo搭建个人博客时，除了写文章，我还希望能有一个专门展示照片的地方。本文记录了为基于Stack主题的Hugo博客添加相册功能的完整实现过程，希望对有类似需求的朋友提供参考。&lt;/p>
&lt;h2 id="功能需求">功能需求
&lt;/h2>&lt;p>我对相册功能的需求很简单：&lt;/p>
&lt;ol>
&lt;li>首页展示不同的相册集合，每个相册有封面图和描述&lt;/li>
&lt;li>点击相册进入详情页，展示该相册下的所有照片&lt;/li>
&lt;li>照片支持懒加载，提高页面加载速度&lt;/li>
&lt;li>支持照片点击查看大图和轻松浏览&lt;/li>
&lt;/ol>
&lt;h2 id="实现思路">实现思路
&lt;/h2>&lt;p>相册功能主要由以下几个部分组成：&lt;/p>
&lt;ol>
&lt;li>&lt;strong>相册数据配置&lt;/strong>：使用YAML数据文件存储相册信息&lt;/li>
&lt;li>&lt;strong>相册列表页面&lt;/strong>：展示所有相册，使用CSS Grid布局&lt;/li>
&lt;li>&lt;strong>单个相册页面&lt;/strong>：展示特定相册中的照片，使用瀑布流布局&lt;/li>
&lt;li>&lt;strong>静态资源&lt;/strong>：照片文件按相册分类存储&lt;/li>
&lt;/ol>
&lt;h2 id="具体实现">具体实现
&lt;/h2>&lt;h3 id="1-创建相册入口页面">1. 创建相册入口页面
&lt;/h3>&lt;p>首先，在&lt;code>content/page/gallery/index.md&lt;/code>中创建相册入口页面：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-markdown" data-lang="markdown">&lt;span class="line">&lt;span class="cl">---
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">title: &amp;#34;相册&amp;#34;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">description: &amp;#34;我的照片集合&amp;#34;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">slug: &amp;#34;gallery&amp;#34;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">layout: &amp;#34;gallery&amp;#34;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">menu:
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> main:
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> weight: 4
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> params:
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> icon: image
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">---
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">这里收集了我的一些照片回忆，记录生活的美好瞬间。
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="2-创建相册数据文件">2. 创建相册数据文件
&lt;/h3>&lt;p>在&lt;code>data/gallery.yaml&lt;/code>中定义所有相册信息：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-yaml" data-lang="yaml">&lt;span class="line">&lt;span class="cl">- &lt;span class="nt">title&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s2">&amp;#34;今天的云&amp;#34;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">slug&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s2">&amp;#34;clouds&amp;#34;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">description&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s2">&amp;#34;记录下每天不同的云朵形状&amp;#34;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">cover&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s2">&amp;#34;/photos/clouds/cover.jpg&amp;#34;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>- &lt;span class="nt">title&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s2">&amp;#34;行东京&amp;#34;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">slug&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s2">&amp;#34;tokyo&amp;#34;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">description&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s2">&amp;#34;漫步在东京的街头巷尾&amp;#34;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">cover&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s2">&amp;#34;/photos/tokyo/cover.jpg&amp;#34;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>- &lt;span class="nt">title&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s2">&amp;#34;今天吃咩&amp;#34;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">slug&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s2">&amp;#34;food&amp;#34;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">description&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s2">&amp;#34;记录美食与生活&amp;#34;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">cover&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s2">&amp;#34;/photos/food/cover.jpg&amp;#34;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>这里只需要配置相册的基本信息和封面图，实际照片将从对应文件夹中自动读取。&lt;/p>
&lt;h3 id="3-创建相册列表布局">3. 创建相册列表布局
&lt;/h3>&lt;p>在&lt;code>layouts/_default/gallery.html&lt;/code>中实现相册列表页面：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;span class="lnt">28
&lt;/span>&lt;span class="lnt">29
&lt;/span>&lt;span class="lnt">30
&lt;/span>&lt;span class="lnt">31
&lt;/span>&lt;span class="lnt">32
&lt;/span>&lt;span class="lnt">33
&lt;/span>&lt;span class="lnt">34
&lt;/span>&lt;span class="lnt">35
&lt;/span>&lt;span class="lnt">36
&lt;/span>&lt;span class="lnt">37
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-html" data-lang="html">&lt;span class="line">&lt;span class="cl">{{ define &amp;#34;main&amp;#34; }}
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">header&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;page-header&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">h1&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>{{ .Title }}&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">h1&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> {{ with .Description }}
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;page-description&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> {{ . }}
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> {{ end }}
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">header&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">section&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;gallery-collections&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> {{ range $idx, $album := .Site.Data.gallery }}
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> {{ $albumPath := printf &amp;#34;./static/photos/%s&amp;#34; $album.slug }}
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> {{ $photoCount := 0 }}
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> {{ range readDir $albumPath }}
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> {{ if findRE &amp;#34;(?i)\\.(gif|jpg|jpeg|tiff|png|bmp|webp|avif|jxl)$&amp;#34; .Name }}
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> {{ if ne .Name &amp;#34;cover.jpg&amp;#34; }}
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> {{ $photoCount = add $photoCount 1 }}
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> {{ end }}
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> {{ end }}
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> {{ end }}
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;album-card&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">a&lt;/span> &lt;span class="na">href&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;/gallery/{{ $album.slug }}&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;album-cover&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">img&lt;/span> &lt;span class="na">src&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;{{ $album.cover }}&amp;#34;&lt;/span> &lt;span class="na">alt&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;{{ $album.title }}的封面&amp;#34;&lt;/span> &lt;span class="na">loading&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;lazy&amp;#34;&lt;/span>&lt;span class="p">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;album-info&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">h2&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>{{ $album.title }}&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">h2&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">p&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>{{ $album.description }}&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">p&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">span&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;photo-count&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>{{ $photoCount }} 张照片&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">span&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">a&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> {{ end }}
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">section&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">{{ end }}
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>这个模板使用CSS Grid创建一个响应式的相册卡片网格，并自动计算每个相册中的照片数量。&lt;/p>
&lt;h3 id="4-创建单个相册页面">4. 创建单个相册页面
&lt;/h3>&lt;p>为每个相册创建对应的内容页面。例如，在&lt;code>content/gallery/clouds/index.md&lt;/code>中：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-markdown" data-lang="markdown">&lt;span class="line">&lt;span class="cl">---
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">title: &amp;#34;今天的云&amp;#34;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">description: &amp;#34;记录下每天不同的云朵形状&amp;#34;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">date: 2024-04-02T10:00:00+08:00
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">albumSlug: &amp;#34;clouds&amp;#34;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">layout: &amp;#34;photos&amp;#34;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">---
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>注意&lt;code>layout&lt;/code>使用了&lt;code>photos&lt;/code>，这个布局负责展示相册中的所有照片。&lt;/p>
&lt;h3 id="5-创建照片展示布局">5. 创建照片展示布局
&lt;/h3>&lt;p>在&lt;code>layouts/_default/photos.html&lt;/code>中实现照片展示页面：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;span class="lnt">28
&lt;/span>&lt;span class="lnt">29
&lt;/span>&lt;span class="lnt">30
&lt;/span>&lt;span class="lnt">31
&lt;/span>&lt;span class="lnt">32
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-html" data-lang="html">&lt;span class="line">&lt;span class="cl">{{ define &amp;#34;main&amp;#34; }}
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;gallery-header&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">h1&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>{{ .Title }}&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">h1&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> {{ with .Description }}
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;gallery-description&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> {{ . }}
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> {{ end }}
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;album-nav&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">a&lt;/span> &lt;span class="na">href&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;/gallery/&amp;#34;&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;back-to-albums&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">svg&lt;/span> &lt;span class="na">xmlns&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;http://www.w3.org/2000/svg&amp;#34;&lt;/span> &lt;span class="na">width&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;24&amp;#34;&lt;/span> &lt;span class="na">height&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;24&amp;#34;&lt;/span> &lt;span class="na">viewBox&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;0 0 24 24&amp;#34;&lt;/span> &lt;span class="na">fill&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;none&amp;#34;&lt;/span> &lt;span class="na">stroke&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;currentColor&amp;#34;&lt;/span> &lt;span class="na">stroke-width&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;2&amp;#34;&lt;/span> &lt;span class="na">stroke-linecap&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;round&amp;#34;&lt;/span> &lt;span class="na">stroke-linejoin&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;round&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">path&lt;/span> &lt;span class="na">d&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;M15 18l-6-6 6-6&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&amp;lt;/&lt;/span>&lt;span class="nt">path&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">svg&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> 返回相册列表
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">a&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;gallery-photos page&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> {{ $albumSlug := .Params.albumSlug }}
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> {{ $albumPath := printf &amp;#34;./static/photos/%s&amp;#34; $albumSlug }}
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> {{ range (sort (readDir $albumPath) &amp;#34;Name&amp;#34; &amp;#34;asc&amp;#34;)}}
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> {{ if ( .Name | findRE &amp;#34;(?i)\\.(gif|jpg|jpeg|tiff|png|bmp|webp|avif|jxl)$&amp;#34;) }}
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;gallery-photo&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">img&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;photo-img&amp;#34;&lt;/span> &lt;span class="na">loading&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#39;lazy&amp;#39;&lt;/span> &lt;span class="na">decoding&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;async&amp;#34;&lt;/span> &lt;span class="na">src&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;/photos/{{ $albumSlug }}/{{ .Name }}&amp;#34;&lt;/span> &lt;span class="na">alt&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;{{ .Name }}&amp;#34;&lt;/span> &lt;span class="p">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> {{ end }}
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> {{ end }}
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">{{ end }}
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>这个布局使用瀑布流展示照片，并支持照片懒加载和点击查看大图。&lt;/p>
&lt;h3 id="6-创建照片目录结构">6. 创建照片目录结构
&lt;/h3>&lt;p>照片文件按照以下结构组织：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">static/
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> photos/
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> clouds/
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> cover.jpg # 相册封面
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> cloud1.jpg # 照片1
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> cloud2.jpg # 照片2
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> ...
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> tokyo/
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> cover.jpg
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> tokyo1.jpg
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> ...
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> food/
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> cover.jpg
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> food1.jpg
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> ...
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>每个相册都有自己的文件夹，封面图命名为&lt;code>cover.jpg&lt;/code>，也可以根据你的需求自定义为其他照片，在&lt;code>gallery.yaml&lt;/code>中修改即可。&lt;/p>
&lt;h3 id="7-更新菜单配置">7. 更新菜单配置
&lt;/h3>&lt;p>在&lt;code>config/_default/menu.toml&lt;/code>中添加相册菜单项：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-toml" data-lang="toml">&lt;span class="line">&lt;span class="cl">&lt;span class="p">[[&lt;/span>&lt;span class="nx">main&lt;/span>&lt;span class="p">]]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">identifier&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="s2">&amp;#34;gallery&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">name&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="s2">&amp;#34;相册&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">url&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="s2">&amp;#34;/gallery/&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">[&lt;/span>&lt;span class="nx">main&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">params&lt;/span>&lt;span class="p">]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">icon&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="s2">&amp;#34;image&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="优化与改进">优化与改进
&lt;/h2>&lt;p>在实现过程中，我遇到了一些问题并进行了优化：&lt;/p>
&lt;h3 id="相对路径问题">相对路径问题
&lt;/h3>&lt;p>最初使用&lt;code>{{ $.Site.BaseURL }}&lt;/code>生成链接，但在局域网访问时会出现问题。改为使用相对路径&lt;code>/gallery/&lt;/code>和&lt;code>/photos/&lt;/code>解决了这个问题。&lt;/p>
&lt;h3 id="照片数量计算">照片数量计算
&lt;/h3>&lt;p>最初在YAML数据文件中定义每张照片，后改为直接读取文件夹中的照片：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;span class="lnt">9
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-go" data-lang="go">&lt;span class="line">&lt;span class="cl">&lt;span class="p">{{&lt;/span> &lt;span class="err">$&lt;/span>&lt;span class="nx">albumPath&lt;/span> &lt;span class="o">:=&lt;/span> &lt;span class="nx">printf&lt;/span> &lt;span class="s">&amp;#34;./static/photos/%s&amp;#34;&lt;/span> &lt;span class="err">$&lt;/span>&lt;span class="nx">album&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">slug&lt;/span> &lt;span class="p">}}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">{{&lt;/span> &lt;span class="err">$&lt;/span>&lt;span class="nx">photoCount&lt;/span> &lt;span class="o">:=&lt;/span> &lt;span class="mi">0&lt;/span> &lt;span class="p">}}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">{{&lt;/span> &lt;span class="k">range&lt;/span> &lt;span class="nx">readDir&lt;/span> &lt;span class="err">$&lt;/span>&lt;span class="nx">albumPath&lt;/span> &lt;span class="p">}}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{{&lt;/span> &lt;span class="k">if&lt;/span> &lt;span class="nx">findRE&lt;/span> &lt;span class="s">&amp;#34;(?i)\\.(gif|jpg|jpeg|tiff|png|bmp|webp|avif|jxl)$&amp;#34;&lt;/span> &lt;span class="p">.&lt;/span>&lt;span class="nx">Name&lt;/span> &lt;span class="p">}}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{{&lt;/span> &lt;span class="k">if&lt;/span> &lt;span class="nx">ne&lt;/span> &lt;span class="p">.&lt;/span>&lt;span class="nx">Name&lt;/span> &lt;span class="s">&amp;#34;cover.jpg&amp;#34;&lt;/span> &lt;span class="p">}}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{{&lt;/span> &lt;span class="err">$&lt;/span>&lt;span class="nx">photoCount&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="nx">add&lt;/span> &lt;span class="err">$&lt;/span>&lt;span class="nx">photoCount&lt;/span> &lt;span class="mi">1&lt;/span> &lt;span class="p">}}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{{&lt;/span> &lt;span class="nx">end&lt;/span> &lt;span class="p">}}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{{&lt;/span> &lt;span class="nx">end&lt;/span> &lt;span class="p">}}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">{{&lt;/span> &lt;span class="nx">end&lt;/span> &lt;span class="p">}}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="大小写敏感的图片格式">大小写敏感的图片格式
&lt;/h3>&lt;p>添加&lt;code>(?i)&lt;/code>标志使正则表达式大小写不敏感，支持&lt;code>.JPG&lt;/code>和&lt;code>.jpg&lt;/code>等不同大小写的文件扩展名：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-go" data-lang="go">&lt;span class="line">&lt;span class="cl">&lt;span class="p">{{&lt;/span> &lt;span class="k">if&lt;/span> &lt;span class="p">(&lt;/span> &lt;span class="p">.&lt;/span>&lt;span class="nx">Name&lt;/span> &lt;span class="p">|&lt;/span> &lt;span class="nx">findRE&lt;/span> &lt;span class="s">&amp;#34;(?i)\\.(gif|jpg|jpeg|tiff|png|bmp|webp|avif|jxl)$&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">}}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="最终效果">最终效果
&lt;/h2>&lt;p>&lt;img src="https://cdn.jsdelivr.net/gh/your-username/your-repo/gallery-home.jpg"
loading="lazy"
alt="相册首页"
>&lt;/p>
&lt;p>实现了一个简洁美观的相册功能，主要特点：&lt;/p>
&lt;ol>
&lt;li>响应式设计，适应不同设备&lt;/li>
&lt;li>图片懒加载，提高加载速度&lt;/li>
&lt;li>照片瀑布流布局，充分利用屏幕空间&lt;/li>
&lt;li>支持点击查看大图和轻松浏览&lt;/li>
&lt;li>使用文件系统组织照片，便于管理&lt;/li>
&lt;/ol>
&lt;h2 id="总结">总结
&lt;/h2>&lt;p>通过自定义布局和数据文件，在Hugo博客中实现了功能完善的相册系统。整个实现过程展示了Hugo强大的模板功能和灵活性，不需要额外的插件或数据库支持，就能打造一个美观实用的相册功能。&lt;/p>
&lt;p>希望这篇文章对想要在Hugo博客中添加相册功能的朋友有所帮助！如有问题或改进建议，欢迎在评论区交流。&lt;/p>
&lt;h2 id="功能优化与调整记录">功能优化与调整记录
&lt;/h2>&lt;p>在实现基本功能后，我根据实际使用情况对相册功能进行了一些优化和调整。以下是优化过程中的一些关键修改：&lt;/p>
&lt;h3 id="1-照片排序优化">1. 照片排序优化
&lt;/h3>&lt;p>最初实现中，相册中的照片是按照文件名降序（&amp;ldquo;desc&amp;rdquo;）排列的。但在实际使用过程中，我发现按照文件名升序（&amp;ldquo;asc&amp;rdquo;）排列更符合浏览习惯，特别是当照片按照时间顺序命名时。&lt;/p>
&lt;p>修改前：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-html" data-lang="html">&lt;span class="line">&lt;span class="cl">{{ range (sort (readDir $albumPath) &amp;#34;Name&amp;#34; &amp;#34;desc&amp;#34;)}}
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>修改后：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-html" data-lang="html">&lt;span class="line">&lt;span class="cl">{{ range (sort (readDir $albumPath) &amp;#34;Name&amp;#34; &amp;#34;asc&amp;#34;)}}
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>这样，照片就会按照文件名从小到大的顺序排列，通常对应时间的先后顺序，提供更好的浏览体验。&lt;/p>
&lt;h3 id="2-移除照片标题和时间显示">2. 移除照片标题和时间显示
&lt;/h3>&lt;p>在早期版本中，我曾实现了从文件名中提取并显示照片标题和拍摄时间的功能：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-html" data-lang="html">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;gallery-photo&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">img&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;photo-img&amp;#34;&lt;/span> &lt;span class="na">loading&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#39;lazy&amp;#39;&lt;/span> &lt;span class="na">decoding&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;async&amp;#34;&lt;/span> &lt;span class="na">src&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;/photos/{{ $albumSlug }}/{{ .Name }}&amp;#34;&lt;/span> &lt;span class="na">alt&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;{{ .Name }}&amp;#34;&lt;/span> &lt;span class="p">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">span&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;photo-title&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>{{ .Name | replaceRE &amp;#34;^[0-9 -]+(.*)[.].*&amp;#34; &amp;#34;$1&amp;#34;}}&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">span&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">span&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;photo-time&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>{{ .Name | replaceRE &amp;#34;^([0-9-]+).*[.].*&amp;#34; &amp;#34;$1&amp;#34; }}&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">span&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>这要求我按照特定格式命名照片文件，如&amp;quot;2024-04-02-樱花.jpg&amp;quot;，其中&amp;quot;2024-04-02&amp;quot;会被提取为时间，&amp;ldquo;樱花&amp;quot;会被提取为标题。&lt;/p>
&lt;p>但在实际使用中，我发现这种命名方式有些繁琐，而且页面上显示这些信息会让相册页面显得过于拥挤。因此，我移除了这些显示元素，回归到更简洁的界面设计：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-html" data-lang="html">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;gallery-photo&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">img&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;photo-img&amp;#34;&lt;/span> &lt;span class="na">loading&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#39;lazy&amp;#39;&lt;/span> &lt;span class="na">decoding&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;async&amp;#34;&lt;/span> &lt;span class="na">src&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;/photos/{{ $albumSlug }}/{{ .Name }}&amp;#34;&lt;/span> &lt;span class="na">alt&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;{{ .Name }}&amp;#34;&lt;/span> &lt;span class="p">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="3-相册配置的灵活性">3. 相册配置的灵活性
&lt;/h3>&lt;p>在&lt;code>data/gallery.yaml&lt;/code>中，我为相册配置增加了更多灵活性。可以自定义封面图路径，不一定非要使用相册文件夹中的&amp;quot;cover.jpg&amp;rdquo;：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-yaml" data-lang="yaml">&lt;span class="line">&lt;span class="cl">- &lt;span class="nt">title&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s2">&amp;#34;今天的云&amp;#34;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">slug&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s2">&amp;#34;clouds&amp;#34;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">description&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s2">&amp;#34;记录下每天不同的云朵形状&amp;#34;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">cover&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s2">&amp;#34;/photos/clouds/best-cloud.jpg&amp;#34;&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="c"># 可以指定任意图片作为封面&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="4-文件命名建议">4. 文件命名建议
&lt;/h3>&lt;p>经过实践，我发现以下文件命名约定效果较好：&lt;/p>
&lt;ul>
&lt;li>相册文件夹：使用简短的英文单词，如&amp;quot;clouds&amp;quot;、&amp;ldquo;tokyo&amp;rdquo;&lt;/li>
&lt;li>照片文件：使用日期前缀命名，如&amp;quot;2024-04-02-1.jpg&amp;quot;、&amp;ldquo;2024-04-02-2.jpg&amp;rdquo;&lt;/li>
&lt;/ul>
&lt;p>这种命名方式既保持了文件的良好组织，又便于按时间顺序浏览照片。&lt;/p>
&lt;h3 id="5-照片加载优化">5. 照片加载优化
&lt;/h3>&lt;p>为了进一步优化照片加载性能，我在img标签中增加了更多的属性：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-html" data-lang="html">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">img&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;photo-img&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="na">loading&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;lazy&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="na">decoding&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;async&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="na">src&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;/photos/{{ $albumSlug }}/{{ .Name }}&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="na">alt&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;{{ .Name }}&amp;#34;&lt;/span> &lt;span class="p">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>&lt;code>loading=&amp;quot;lazy&amp;quot;&lt;/code>确保了图片只有在即将进入视口时才会加载，而&lt;code>decoding=&amp;quot;async&amp;quot;&lt;/code>让浏览器可以异步解码图片，不阻塞主线程，提高页面响应速度。&lt;/p>
&lt;h2 id="最终配置参考">最终配置参考
&lt;/h2>&lt;p>以下是最终使用的相册配置和模板代码，供参考：&lt;/p>
&lt;h3 id="相册数据配置datagalleryyaml">相册数据配置（data/gallery.yaml）：
&lt;/h3>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-yaml" data-lang="yaml">&lt;span class="line">&lt;span class="cl">- &lt;span class="nt">title&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s2">&amp;#34;今天的云&amp;#34;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">slug&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s2">&amp;#34;clouds&amp;#34;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">description&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s2">&amp;#34;记录下每天不同的云朵形状&amp;#34;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">cover&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s2">&amp;#34;/photos/clouds/cover.jpg&amp;#34;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>- &lt;span class="nt">title&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s2">&amp;#34;行东京&amp;#34;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">slug&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s2">&amp;#34;tokyo&amp;#34;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">description&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s2">&amp;#34;漫步在东京的街头巷尾&amp;#34;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">cover&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s2">&amp;#34;/photos/tokyo/cover.jpg&amp;#34;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>- &lt;span class="nt">title&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s2">&amp;#34;今天吃咩&amp;#34;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">slug&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s2">&amp;#34;food&amp;#34;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">description&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s2">&amp;#34;记录美食与生活&amp;#34;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">cover&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s2">&amp;#34;/photos/food/cover.jpg&amp;#34;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="照片显示模板layouts_defaultphotoshtml核心部分">照片显示模板（layouts/_default/photos.html）核心部分：
&lt;/h3>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-html" data-lang="html">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;gallery-photos page&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> {{ $albumSlug := .Params.albumSlug }}
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> {{ $albumPath := printf &amp;#34;./static/photos/%s&amp;#34; $albumSlug }}
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> {{ range (sort (readDir $albumPath) &amp;#34;Name&amp;#34; &amp;#34;asc&amp;#34;)}}
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> {{ if ( .Name | findRE &amp;#34;(?i)\\.(gif|jpg|jpeg|tiff|png|bmp|webp|avif|jxl)$&amp;#34;) }}
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;gallery-photo&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">img&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;photo-img&amp;#34;&lt;/span> &lt;span class="na">loading&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#39;lazy&amp;#39;&lt;/span> &lt;span class="na">decoding&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;async&amp;#34;&lt;/span> &lt;span class="na">src&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;/photos/{{ $albumSlug }}/{{ .Name }}&amp;#34;&lt;/span> &lt;span class="na">alt&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;{{ .Name }}&amp;#34;&lt;/span> &lt;span class="p">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> {{ end }}
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> {{ end }}
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>通过这些优化和调整，相册功能变得更加简洁、高效，提供了更好的用户体验。&lt;/p></description></item><item><title>今天吃咩</title><link>https://blog.shineee.site/gallery/food/</link><pubDate>Tue, 02 Apr 2024 10:00:00 +0800</pubDate><guid>https://blog.shineee.site/gallery/food/</guid><description/></item><item><title>今天的云</title><link>https://blog.shineee.site/gallery/clouds/</link><pubDate>Tue, 02 Apr 2024 10:00:00 +0800</pubDate><guid>https://blog.shineee.site/gallery/clouds/</guid><description/></item><item><title>行东京</title><link>https://blog.shineee.site/gallery/tokyo/</link><pubDate>Tue, 02 Apr 2024 10:00:00 +0800</pubDate><guid>https://blog.shineee.site/gallery/tokyo/</guid><description/></item><item><title>Hexo升级之旅</title><link>https://blog.shineee.site/p/2022/05/04/hexo-hext-update/</link><pubDate>Wed, 04 May 2022 20:55:38 +0800</pubDate><guid>https://blog.shineee.site/p/2022/05/04/hexo-hext-update/</guid><description>&lt;p>Hexo-Next 已经升级到8.x了，我还用的7.2，且8.0之后更改了许多东西，模板文件也从swig改成njk了，顺便动动吧；&lt;/p>
&lt;h1 id="官方文档">官方文档
&lt;/h1>&lt;p>&lt;a class="link" href="https://theme-next.js.org/docs/getting-started/upgrade.html" target="_blank" rel="noopener"
>官方升级文档&lt;/a>&lt;/p>
&lt;p>如果之前没有对主题文件做过太多改动的话，工作量会比较小，只需要把&lt;code>themes&lt;/code>文件下的&lt;code>_config.yml&lt;/code>复制保留出来，然后clone最新的主题文件，再修改就OK了；
如果有更改（比如我，改了很多，且都是在原模板改的，就比较蛋疼，记得把对应文件调整就好；还好之前记录过自定义的内容）
后续的配置自定义文件也都分开来比较好，血的教训。&lt;/p>
&lt;h1 id="评论系统">评论系统
&lt;/h1>&lt;p>Next自带的不再支持Valine了，所以暂时改成了畅言，但畅言需要注册才能回复，所以后续还是改改（
{% note info %}
2022-05-22 更新，更改为utterances，使用Github的issues记录评论；
{% endnote %}&lt;/p>
&lt;h1 id="样式修复">样式修复
&lt;/h1>&lt;p>8.0之后对html文件的一些class更改了，导致原先的一些自定义样式无法生效，已修正；&lt;/p>
&lt;h1 id="后续todo">后续TODO
&lt;/h1>&lt;ul>
&lt;li>&lt;input disabled="" type="checkbox"> 相册图片点卡之后的链接暂未修复，点开仍是缩略图；&lt;/li>
&lt;li>&lt;input disabled="" type="checkbox"> 把SideBar的头图设置放到自定义文件里面;&lt;/li>
&lt;li>&lt;input disabled="" type="checkbox"> 更改域名+备案；&lt;/li>
&lt;/ul></description></item><item><title>Hexo-GitHub Actions 自动部署</title><link>https://blog.shineee.site/p/2021/08/30/hexo-github-action/</link><pubDate>Mon, 30 Aug 2021 22:22:22 +0800</pubDate><guid>https://blog.shineee.site/p/2021/08/30/hexo-github-action/</guid><description>&lt;p>突然想捡起来，把Hexo的东西整整，CI的自动部署关掉了，重新用GitHub的action来进行自动部署；&lt;/p>
&lt;h1 id="首先">首先
&lt;/h1>&lt;p>你需要知道Hexo部署的正常逻辑；&lt;/p>
&lt;div class="mermaid" style="text-align: center; margin: 1rem 0;">graph LR;
a(本地源码更新)-->b(HexoGenerate);
b-->c(生成静态文件);
c-->d(HexoDeploy);
d-->e(push到Github仓库)&lt;/div> &lt;p>大致逻辑上如上图所示，在Github仓库展示的（一般仓库名都是&lt;code>xxxx.orangeshinee.github.io&lt;/code>）只是&lt;code>静态文件&lt;/code>，不包含本地的源码，类似&lt;code>Themes&lt;/code>主题文件等配置；&lt;/p>
&lt;p>而我们需要做的，就是把&lt;code>本地源码&lt;/code>和最后要生成展示的&lt;code>静态文件&lt;/code>分开保存，同时备份，这样在你更换电脑或者换了生产环境的时候，可以随时把源码pull下来继续更改，不用担心丢失问题；&lt;/p>
&lt;h1 id="那么">那么
&lt;/h1>&lt;p>Github Action是如何工作的？能解决什么问题？
简单来说，就是能够监控你源码的更改状态，如果你的源码有更改，那么GA就会在线上帮你进行&lt;code>Hexo Generate&lt;/code>和&lt;code>Hexo Deploy&lt;/code>工作，不需要自己再手动部署；
同时，也分离了源码及静态文件，方便我们随时随地写文档；&lt;/p>
&lt;div class="mermaid" style="text-align: center; margin: 1rem 0;">graph LR;
a(本地源码更新);
z-->a;
a-->z(源码仓库);
b(HexoGenerate);
a-->f(GitAction监控);
f-->b;
b-->c(生成静态文件);
c-->d(HexoDeploy);
d-->e(push到Github仓库)&lt;/div> &lt;h1 id="然后">然后
&lt;/h1>&lt;h2 id="1新建仓库">1.新建仓库
&lt;/h2>&lt;p>假设你已经在本地部署过了，那么你的网站仓库已经有了；
接下来，我们新建一个仓库，把本地的源码上传上去，同时将这个仓库的属性改为个人可见（这步可选）；&lt;/p>
&lt;h2 id="2ssh配置">2.SSH配置
&lt;/h2>&lt;p>在本地打开git bash，然后运行
&lt;code>ssh-keygen -t ed25519 -C &amp;quot;your_email@example.com&amp;quot; -f ~/.ssh/hexo_key&lt;/code>
会在本地生成一对公钥&amp;amp;密钥，公钥就是后缀为&lt;code>.pub&lt;/code>的文件；
如果你是windows电脑，那么配置文件会在&lt;code>c://users/YourName/.ssh/&lt;/code>文件夹中；&lt;/p>
&lt;h2 id="公钥部署">公钥部署
&lt;/h2>&lt;p>右键用记事本先打开公钥，即后缀&lt;code>.pub&lt;/code>的文件，复制；
打开静态文件仓库(xxxxx.github.io)，点击设置，将公钥粘贴进去；
&lt;img src="https://picsshine.oss-cn-shenzhen.aliyuncs.com/images/20220417173301.png"
loading="lazy"
alt="公钥部署"
>&lt;/p>
&lt;h2 id="私钥部署">私钥部署
&lt;/h2>&lt;p>同上，我们将私钥的文本内容复制，部署到&lt;strong>源码仓库&lt;/strong>；
这里的位置与公钥不一样，私钥部署是在&lt;code>Secrets&lt;/code>的&lt;code>Actions&lt;/code>中，点击右上角添加私钥；
需要注意名称，我们将私钥名称设置为&lt;code>DEPLOY_KEY&lt;/code>(也可以是其他名字)，在后续步骤会用到；
&lt;img src="https://picsshine.oss-cn-shenzhen.aliyuncs.com/images/20220417173557.png"
loading="lazy"
alt="私钥部署"
>&lt;/p>
&lt;h2 id="3新建action">3.新建Action
&lt;/h2>&lt;p>然后转到&lt;code>Actions&lt;/code>设置，点击&lt;code>New workflow&lt;/code>新建一个工作流，会生成一个xxx.yml的文件，名字可随意；&lt;/p>
&lt;p>&lt;img src="https://picsshine.oss-cn-shenzhen.aliyuncs.com/images/20220417170818.png"
loading="lazy"
alt="Actions设置"
>&lt;/p>
&lt;h2 id="4编辑配置文件">4.编辑配置文件
&lt;/h2>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;span class="lnt">28
&lt;/span>&lt;span class="lnt">29
&lt;/span>&lt;span class="lnt">30
&lt;/span>&lt;span class="lnt">31
&lt;/span>&lt;span class="lnt">32
&lt;/span>&lt;span class="lnt">33
&lt;/span>&lt;span class="lnt">34
&lt;/span>&lt;span class="lnt">35
&lt;/span>&lt;span class="lnt">36
&lt;/span>&lt;span class="lnt">37
&lt;/span>&lt;span class="lnt">38
&lt;/span>&lt;span class="lnt">39
&lt;/span>&lt;span class="lnt">40
&lt;/span>&lt;span class="lnt">41
&lt;/span>&lt;span class="lnt">42
&lt;/span>&lt;span class="lnt">43
&lt;/span>&lt;span class="lnt">44
&lt;/span>&lt;span class="lnt">45
&lt;/span>&lt;span class="lnt">46
&lt;/span>&lt;span class="lnt">47
&lt;/span>&lt;span class="lnt">48
&lt;/span>&lt;span class="lnt">49
&lt;/span>&lt;span class="lnt">50
&lt;/span>&lt;span class="lnt">51
&lt;/span>&lt;span class="lnt">52
&lt;/span>&lt;span class="lnt">53
&lt;/span>&lt;span class="lnt">54
&lt;/span>&lt;span class="lnt">55
&lt;/span>&lt;span class="lnt">56
&lt;/span>&lt;span class="lnt">57
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-yml" data-lang="yml">&lt;span class="line">&lt;span class="cl">&lt;span class="c"># name为名称，可随意&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">HexoDeploy&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="c"># 触发条件，这里只要你对仓库进行push，就会运行&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">on&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="l">push]&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">jobs&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">pages&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c"># 运行环境，即Action的运行环境，我们默认选ubuntu，详情见(https://docs.github.com/en/actions/using-workflows/workflow-syntax-for-github-actions#choosing-github-hosted-runners)&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">runs-on&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">ubuntu-latest&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c"># steps是步骤，我们总共进行了6步，需要更改的只有ssh配置那一步&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">steps&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c"># 第一步，拉取你的源码，注意ref那里是不是你的仓库分支&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">Checkout&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">uses&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">actions/checkout@v2&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">with&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">ref&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">main&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c"># 更新node环境，这里要注意，node版本要和你的hexo适配，过高可能会有问题；&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c"># 可以在本地运行hexo -v，就能看到node版本&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">Use Node.js 12.14.0&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">uses&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">actions/setup-node@v2&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">with&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">node-version&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s2">&amp;#34;12&amp;#34;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c"># 更新包及缓存&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">Cache NPM Dependencies&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">uses&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">actions/cache@v2&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">with&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">path&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">node_modules&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">key&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">${{ runner.OS }}-npm-cache&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">restore-keys&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">|&lt;/span>&lt;span class="sd">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sd"> ${{ runner.OS }}-npm-cache&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c"># 增加SSH KEY的配置&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">Add SSH Private Key&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">env&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c"># 这里的DEPLOY_KEY就是上文进行添加的&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">SSH_PRIVATE&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">${{ secrets.DEPLOY_KEY }}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">run&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">|&lt;/span>&lt;span class="sd">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sd"> mkdir -p ~/.ssh/
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sd"> echo &amp;#34;$SSH_PRIVATE&amp;#34; &amp;gt; ~/.ssh/id_rsa
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sd"> chmod 700 -R ~/.ssh
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sd"> ssh-keyscan github.com &amp;gt;&amp;gt; ~/.ssh/known_hosts
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sd"> git config --global user.email &amp;#34;你的邮箱&amp;#34;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sd"> git config --global user.name &amp;#34;你的名称&amp;#34;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c"># 安装包&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">Install Dependencies&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">run&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">|&lt;/span>&lt;span class="sd">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sd"> npm install hexo-cli -g
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sd"> npm install&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c"># 部署&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">Hexo Deploy&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">run&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">|&lt;/span>&lt;span class="sd">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sd"> hexo clean
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sd"> hexo deploy&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>编辑完成后保存；&lt;/p>
&lt;h2 id="5没病走两步">5.没病走两步
&lt;/h2>&lt;p>上述增加Actions的步骤是在Github网站进行的，你也可以在本地进行，就是在仓库根目录新建一个&lt;code>.github&lt;/code>文件夹，然后在里面新建一个&lt;code>workflows&lt;/code>文件夹，然后将xxx.yml文件放入；&lt;/p>
&lt;p>在本地更新一个文档，然后进行push；&lt;/p>
&lt;p>此时Actions页面会自动运行一个任务，点进去可以看到详情；
黄色代表运行中，绿色代表部署成功，红色表示部署失败；&lt;/p>
&lt;p>&lt;img src="https://picsshine.oss-cn-shenzhen.aliyuncs.com/images/20220417174354.png"
loading="lazy"
alt="Action运行界面"
>&lt;/p>
&lt;h1 id="一些坑">一些坑
&lt;/h1>&lt;ul>
&lt;li>Node.js的版本问题，这个前面说过了，建议与本地的版本一致；&lt;/li>
&lt;li>Hexo的版本问题，如果你的版本过低，有些配置会进行更改导致不再生效，需要用新的配置；
例如我这里的&lt;code>Deprecated config detected: &amp;quot;external_link&amp;quot; with a Boolean value is deprecated. See https://hexo.io/docs/configuration for more details.&lt;/code>，就是指&lt;code>external_link&lt;/code>的配置已经不再使用了，转为用&lt;code>external_link.enable: true&lt;/code>这种配置；&lt;/li>
&lt;li>SSH的部署问题，如果发现部署失败，里面提到&lt;code>git@github.com: Permission denied (publickey).&lt;/code>类似的，多半是因为私钥或者公钥没有部署好导致的，可以仔细看看上面的步骤；&lt;/li>
&lt;/ul>
&lt;h1 id="and">AND
&lt;/h1>&lt;p>以上，完成了自动部署的整体工作，自己也大概了解了action的逻辑，后面就可以少折腾了；&lt;/p>
&lt;hr>
&lt;p>参考：&lt;/p>
&lt;ol>
&lt;li>&lt;a class="link" href="https://docs.github.com/cn/actions/quickstart" title="在 5 分钟或更短的时间内尝试 GitHub Actions 的功能。"
target="_blank" rel="noopener"
>GitHub Actions 快速入门 - GitHub Docs&lt;/a>&lt;/li>
&lt;li>&lt;a class="link" href="https://hexo.io/zh-tw/docs/github-pages.html" target="_blank" rel="noopener"
>在 GitHub Pages 上部署 Hexo&lt;/a>&lt;/li>
&lt;li>&lt;a class="link" href="https://fly-koala.com/posts/9txgh5a2/" target="_blank" rel="noopener"
>Hexo最速CICD部署，GitHub Actions！【最速攻略】&lt;/a>&lt;/li>
&lt;/ol></description></item><item><title>我的2019</title><link>https://blog.shineee.site/p/2019/12/31/bye-my2019/</link><pubDate>Tue, 31 Dec 2019 22:00:47 +0800</pubDate><guid>https://blog.shineee.site/p/2019/12/31/bye-my2019/</guid><description>&lt;p>第一天忘了在做什么了。2018的最后一天倒是记得很清楚。首爆盯着那几个数，到了晚上跟着老杨去旁边的一个海鲜馆子里吃🐟。&lt;/p>
&lt;p>好多鱼，认识的不认识的，味道记不得了,不过那个卤花生还是可以的。&lt;/p>
&lt;p>吃完回去继续等，和强哥一起。&lt;/p>
&lt;p>太无聊了，反正就和强哥两个人，跑到“作战会议室”，让办公室唯一能制热的空调吹起来，打开电脑，看强哥选的电影。&lt;/p>
&lt;blockquote>
&lt;p>《29+1》，香港电影，没仔细跟着看，大概讲的是，迎接和面对30岁到来的生活。&lt;/p>&lt;/blockquote>
&lt;p>反正一边看，一边盯着数。到了，零点过了，该有的不该有的都有了，凑够了了事。关机回家。&lt;/p>
&lt;p>出了公司后门到了大路上，平日这个点过马路都不用看，那晚上还有来来往往好多车。&lt;/p>
&lt;p>&lt;img src="https://pic.sikie.wang/images/2020/03/15/tempFileForShare_20200315-210943.jpg"
loading="lazy"
alt="2019第一天"
>&lt;/p>
&lt;p>有没有好梦记不得了，总之就这样来到了2019年。&lt;/p>
&lt;h2 id="我的2019">我的2019
&lt;/h2>&lt;p>本命年，很糟糕的一年。&lt;/p>
&lt;p>从年头到年尾，好像就没遇到什么顺的事儿。&lt;/p>
&lt;p>一月递交辞呈，我不喜欢给自己留后路，事情要做了就去做，不然又会不了了之。很多事情也没有想好，反正到了那个点就要去做了。&lt;/p>
&lt;p>二月春节，新年，亲人突然病故，生死有命，很多人没了你才知道真的是没了，也有很多感觉是无法言说的。也是那个时候才切身体会到，自己还是个孩子啊，真的什么都做不了，又不想干站着。把一些东西搬过来搬过去，地扫了再扫。人一辈子太短了，还是要好好活着。平安是福。&lt;/p>
&lt;p>三月&lt;a class="link" href="https://blog.shineee.site/gallery/%E8%A1%8C%E4%B8%9C%E4%BA%AC/" target="_blank" rel="noopener"
>东京游&lt;/a>，没有啥计划，走一天吃一天睡一晚，不好不坏。&lt;/p>
&lt;p>四月回汉找工作，处处碰壁，后来想才知道，当时的简历和方向错太多，过了节后的求职高峰。还是没啥经验。&lt;/p>
&lt;p>接下来的半年，学习，说是充电，实际上也没充多少，总是在最后的时候跳车。就那样了&lt;/p>
&lt;p>遇到好的工作好的机会，二选一总是选那个感觉错的那个。就很烦。&lt;/p>
&lt;p>颓了一年，感觉是个废人了。&lt;/p>
&lt;h2 id="so-2020">so 2020
&lt;/h2>&lt;p>不知道。就想安定下来，有固定的工作和生活。按部就班，做好自己的事，过好自己的生活。&lt;/p>
&lt;p>​一晃一个世纪的五分之一过去了，这20年，就对2013这个数印象最深了。大概是因为那一年高考，进了大学，有了新的不一样的生活。&lt;/p>
&lt;p>从哪儿看到这么一句话来着&lt;/p>
&lt;blockquote>
&lt;p>小时候总觉得一年很长很长，因为那一年占你记忆的五分之一六分之一；如今的一年越来越短，因为他占据你记忆不到二十分之一。&lt;/p>&lt;/blockquote>
&lt;p>越往后，你的每一天在你记忆中占得比例会越来越小越来越小。&lt;/p>
&lt;p>但不代表这一年，这一天的分量越来越小。对于往后的每一年的每一天，都要怀着最后一年的最后一天的信念去过。&lt;/p>
&lt;p>当然啦说起来好简单，反正臣妾做不到。&lt;/p>
&lt;h2 id="新年">新年
&lt;/h2>&lt;p>每次都说要有新气象，要过不一样的生活，总是踏出去的脚再收回来。&lt;/p>
&lt;p>好好过，少点遗憾。&lt;/p></description></item><item><title>心有感慨·长大</title><link>https://blog.shineee.site/p/2019/08/11/growupisbad/</link><pubDate>Sun, 11 Aug 2019 22:29:16 +0800</pubDate><guid>https://blog.shineee.site/p/2019/08/11/growupisbad/</guid><description>&lt;p>这一段内容并没有什么实质内容，只是想吐槽一下，周四（也就是立秋）这个框框还是VIP免费的今天就免费了，啧啧啧，秋天刚到呢为什么就免费了呢，不过还是挺好看的&lt;/p>
&lt;p>今早起来想去西苑吃个热干面，楼下几个大爷坐在公共椅子上日白，太阳还在云层后面，云层在大楼后面。随便来点小风就让人舒服的不得了。只是走到太阳下面就不舒服了，晒得后脖子疼。&lt;/p>
&lt;p>我以为收了西苑的摊子，热干面应该还是在的，结果并没有。只有有店面的还在营业，一半，原本摆摊的路停满了车，看不到什么人。失去灵魂。估计恢复要十一月了，不知道还有没有机会再吃一碗热干面。所以要珍惜你吃的每一碗热干面，说不定就是最后一碗了（&lt;/p>
&lt;p>最近老聊起长大、变化、巴拉巴拉，其实也才毕业两年，不过刚踏出脚步呀，滚了两圈扑了两层灰。等到有一天你&lt;/p>
&lt;p>在泥泞中寸步难行，会不会狠下心来把一旁的小猪猪按在面前爬出来呢的o(￣┰￣*)ゞ&lt;/p>
&lt;p>我随便说说的，我也不知道我以后是什么样子。大人只是小孩子的世界里才有的东西，我还是个孩子的(o′┏▽┓｀o) 珍惜小孩子眼里的世界&lt;/p>
&lt;p>很多故事的结局一开始就写好了的，只是我们看不到。但是老天爷并不是个好作家，好多好多事情他写不出来，也没有伏笔没有铺垫，想怎么开心怎么来吧，大概他这么想的。&lt;/p>
&lt;p>有时候去看一个人做的事，说的话，不要只是看他做的事，说的话。最近静下来想一些事情，翻翻脑子里的旧笔记本，总是想起很多很多小细节。&lt;/p>
&lt;p>我们之所以是我们，是因为我们有不同的人生，周围有不同的人，发生了不同的事，做了不同的选择。好好坏坏都有，有些你会忘记有些你会记得。我觉得从来都不曾有什么所谓的同理心，体会不了的就是体会不到。所以跟人说话聊天不要打着一副我tmd真的懂你，你做的事我都能理解。&lt;/p>
&lt;p>你TM懂个P啊。&lt;/p>
&lt;p>当然不是说就不要去聆听别人理解别人。听就好了。&lt;/p>
&lt;p>不要期望别人能够像你一样的去感受你的感受，谁都做不到。&lt;/p>
&lt;p>不过我还是会听讲故事，好的开心的，坏的难过的。我可能没法儿记住你讲的每一句话，每一件事，但是我记得说话时的你。&lt;/p>
&lt;p>所以，有什么故事就到这里讲吧，我喜欢听故事。&lt;/p>
&lt;p>听你讲故事。&lt;/p></description></item><item><title>心有感慨·立秋</title><link>https://blog.shineee.site/p/2019/08/08/autumnishere/</link><pubDate>Thu, 08 Aug 2019 21:20:04 +0800</pubDate><guid>https://blog.shineee.site/p/2019/08/08/autumnishere/</guid><description>&lt;p>今日立秋，早上起来吹吹风很舒服，昨天没有一直开风扇，开了空调，好像一直被风吹会头疼。&lt;/p>
&lt;p>醒来喉咙痛，也没有感冒的迹象，不晓得啥子原因。&lt;/p>
&lt;p>喉咙疼的很尴尬，你咽口水会疼，喝水也会疼，不舒服的让你不断地去咽口水不断地去喝水然后不断的刺激你的神经。&lt;/p>
&lt;p>就像伤口结疤一样，明知道不可以，还是要去抠抠。&lt;/p>
&lt;p>人多半是这样吧，其实只要不去想，脑子都不会在意疼不疼，那儿轮得到你来管。&lt;/p>
&lt;p>所以啊，有什么治嗓子的好办法？&lt;/p>
&lt;h2 id="一叶知秋">一叶知秋
&lt;/h2>&lt;p>落叶确实多了起来，早上再南湖大道看到有工人拿着类似大型吹风机的东西在行道树下面把叶子吹出来扫走，昨天暴雨也落了不少叶子。&lt;/p>
&lt;p>隔壁楼的一层大厅是一个羽毛球训练馆，每天中午下午都有不知道是不用上班还是提前下班的同志们在那里打球。当然小孩子是最多的，从暑假第一天开始，每天都有大大小小的孩子训练，老刻苦了。&lt;/p>
&lt;p>但是不得不说，训练还是很棒的，四五岁（真的很小，估计最小的就三岁多）的小姑娘打的比我还好，一招一式。&lt;/p>
&lt;p>从小都没啥爱好特长的我很羡慕，也不是没有机会，只是好像很难去坚持一件事情，大概是没那么热爱吧。&lt;/p>
&lt;p>昨天在电梯碰到一对小情侣遛猫的，长这么大第一次，见着人拉着根绳子遛猫，还是一直老肥老肥的猫🐱，我也不知道啥品种，咱也不敢问。&lt;/p>
&lt;p>倒是记得很清楚，小时候在看乌龙院四格漫画，里面那只叫墨汁的猫就被大师兄和小师弟牵出去遛过。
&lt;img src="https://pic.sikie.wang/images/2020/03/15/640.jpg"
loading="lazy"
alt="乌龙院-溜猫"
>&lt;/p>
&lt;p>还是小学看的漫画啊，到现在都记忆犹新，回头有时间看看乌龙院大长篇吧。&lt;/p>
&lt;p>那时候不吃饭攒点钱买五块钱一本的单行本，还有附赠的卡片，结果后来全被弟弟们拿去扔了，就再也不看了。&lt;/p>
&lt;p>还有两个月，开始倒计时了，一周又晃晃悠悠过去了，听理论的东西要花很多精力让自己去听进去，偏偏面试理论的东西会问的特别多，到了实际工作又不怎么用。&lt;/p>
&lt;p>还是要好好学习啊小伙子&lt;/p></description></item><item><title>心有感慨·夏</title><link>https://blog.shineee.site/p/2019/07/21/summer-2019/</link><pubDate>Sun, 21 Jul 2019 23:00:47 +0800</pubDate><guid>https://blog.shineee.site/p/2019/07/21/summer-2019/</guid><description>&lt;p>夏天还是如印象中的一样，五点刚果天会慢慢睁眼，吃个饭会汗流浃背，午觉久了会昏昏沉沉，八九点搬个躺椅在室外乘凉看月亮看星星（如果有的话）。&lt;/p>
&lt;p>生活气是一个说起来有点抽象，但是讲出来呢，你又能get到具体点的那种词&lt;/p>
&lt;blockquote>
&lt;p>盖人家每日不可阙者，柴米油盐酱醋茶。——宋 吴自牧《梦粱录·鲞铺》&lt;/p>&lt;/blockquote>
&lt;p>所以住的地方一定要有厨房，偶尔做做饭，会让日子更有味道。因为你要去买菜，去超市或者菜市场是最让我感受「生活」的时候，推个小车或者拧着个小布袋子，看今天的白菜新不新鲜，挑挑拣拣，逢着超市打折就会很开心，其实也没省几毛钱，但是就是感觉很赚。&lt;/p>
&lt;p>然后洗菜，做饭，吃完，收拾碗筷，洗洗刷刷，躺倒沙发上喝一口茶，打开电视看看新闻电影；或者天气好跟你去广场散步，看放学的小孩儿们玩各式各样的游戏，看一旁的家长们坐着聊天，看远处的大爷大妈们随着低音炮的轰轰声翩翩起舞。不久的以后，我们也会成为他们的一员，生活也是个轮回，只是大家的圈子不一样。&lt;/p>
&lt;p>转眼2019已经过去了一半多，半年多好像真的什么事儿都没做，其实想想也确实什么都没做。过完年辞职，旅游，工作，学习。生活并没有跟想象中那般按部就班的进行，多一点点意外，少一点点惊喜。心里其实倒还有点期待，曾经想做的事情终究要成为现实，随之而来的就是那丢丢小惶恐，兴趣变成了工作究竟会成什么样子呢。平常心啦平常心，反正都是围城，享受生活就好。&lt;/p>
&lt;p>说起『围城』，想起过年回家在高铁上遇到的小师姐。在虎门上车，抱着本《围城》慢慢看，到了广州上来了个小姐姐坐在旁边，弄得我有点小紧张。&lt;/p>
&lt;blockquote>
&lt;p>你在看《围城》啊，这是我最喜欢的书，读了几遍了。&lt;/p>&lt;/blockquote>
&lt;blockquote>
&lt;p>啊对啊，还是高中时候看过，都快忘了，没事拿出来看看打发时间。&lt;/p>&lt;/blockquote>
&lt;p>然后就有一搭没一搭的聊着，居然，她也在武汉上的大学，还就是小破财的会院，跟我同年同月，比我早上学所以比我大一届，在深圳的一个咨询公司上班，家在哪儿哪儿。后来又聊了一些，工作啊，她还拿出电脑在学习，看着满屏英文的PPT我有点慌，毕竟她说的工作我都听不懂，感觉很吊&lt;/p>
&lt;p>&lt;img src="https://pic.sikie.wang/images/2019/10/08/ganga.png"
loading="lazy"
alt="ganga.png"
>&lt;/p>
&lt;p>中间她还解了几个工作电话，想来所有的社畜都一样啊，在哪里都离不开工作，于是看了看手机的刚发消息的微信群，右上角点了删除。。&lt;/p>
&lt;p>五个小时的车程还是长啊，临到车站目送她下车，不知道她的名字没有她的微信，其实我连她长什么样都没有记住😂&lt;/p>
&lt;p>人生如逆旅，希望多遇到几个有趣的同行人，听他讲看到的风景遇到的人经历的故事，到站了就挥手再见。旅途漫长，风景会很多。就像利群的老广告说的&lt;/p>
&lt;p>人生就像一场旅行，不在乎目的地，在乎的是沿途的风景，以及看风景的心情。&lt;/p>
&lt;p>明天就7月22号了，三伏天过完一伏，夏天好像也过了三分之一了。一天天的按部就班，只是还是不知道今后要去哪里。计划总是赶不上变化，一条微信一个电话一张车票，旅途的风景就又不一样了呀。&lt;/p>
&lt;p>早睡不一定能够早起，昨天十点多就上床睡觉，今天还是八点半才醒过来，也可能是前天睡太差，一直做梦，也不知道梦到什么了。&lt;/p>
&lt;p>昨天去了医院，医院真是个无论何时人都超多的地方，也是我最不愿意去的地方。给我就诊的医生小姐姐真好看，又年轻，用的居然还是锤子的Pro2S，真难得。花了189去检查，然后开了个9块5毛7的膏子给我，让我注意休息不要熬夜&lt;/p>
&lt;p>也好，说明我的脸并没什么大问题的，十块钱不到就能救回来。&lt;/p></description></item><item><title>Hexo添加自定义相册</title><link>https://blog.shineee.site/p/2018/12/16/custom-album/</link><pubDate>Sun, 16 Dec 2018 13:00:47 +0800</pubDate><guid>https://blog.shineee.site/p/2018/12/16/custom-album/</guid><description>&lt;p>不想拥有相册的blog不是好网站（&lt;/p>
&lt;p>关于next主题下的相册搭建网上教程挺多的，但是很多都是那种瀑布流式，emmmmm&amp;hellip;..&lt;/p>
&lt;p>不符合我审美，我还是喜欢QQ空间式的（逃－&lt;/p>
&lt;p>Google第一篇出来的是&lt;a class="link" href="https://co5.me/2018/181112-gallerry2.html" target="_blank" rel="noopener"
>css+markdown 实现 hexo 相册【进阶篇】&lt;/a>讲真的挺好看的，可能因为人家是自己画的 &amp;ndash;&lt;/p>
&lt;p>大体内容跟大佬的差不多，不过她用的是加载服务器上的图片，而我用的是图床。同时利用next已经整合的fancy box，达到点击图片放大查看的效果，而不是跳转到图片原页面。&lt;/p>
&lt;h2 id="布局">布局
&lt;/h2>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-html" data-lang="html">&lt;span class="line">&lt;span class="cl">- 相册页面
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> - 相册封面
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> - 相册内容
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="步骤">步骤
&lt;/h3>&lt;p>步骤的话与上述教程基本一致,只是修改了部分css样式,同时,因为要使得相册页面下的图片调用fancybox,需要修改&lt;code>\next\source\js\utils.js&lt;/code>的部分代码&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-js" data-lang="js">&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// 如果是相册页面下的图片 启用fancybox
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="k">if&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">$image&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">is&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;.img-row img&amp;#39;&lt;/span>&lt;span class="p">)){&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">$imageGalleryLink&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">addClass&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;post-gallery-img&amp;#39;&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">$imageGalleryLink&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">attr&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;data-fancybox&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s1">&amp;#39;gallery&amp;#39;&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="nx">attr&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;rel&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s1">&amp;#39;gallery&amp;#39;&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="修改缩略图">修改缩略图
&lt;/h3>&lt;p>因为fancybox会自动生成缩略图,但实际上缩略图的src还是原图,所以加载的时候比较慢,这样也会造成资源浪费.所以还是在&lt;code>\next\source\js\utils.js&lt;/code>中修改了下下,将缩略图地址转换为原图;&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-js" data-lang="js">&lt;span class="line">&lt;span class="cl">&lt;span class="nx">wrapImageWithFancyBox&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="kd">function&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nb">document&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">querySelectorAll&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;.post-body :not(a) &amp;gt; img, .post-body &amp;gt; img, .gallery-page &amp;gt; img&amp;#39;&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="nx">forEach&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">element&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">var&lt;/span> &lt;span class="nx">$image&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">$&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">element&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">var&lt;/span> &lt;span class="nx">imageLink&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">$image&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">attr&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;data-src&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="o">||&lt;/span> &lt;span class="nx">$image&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">attr&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;src&amp;#39;&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">var&lt;/span> &lt;span class="nx">$imageWrapLink&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">$image&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">wrap&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="sb">`&amp;lt;a class=&amp;#34;fancybox fancybox.image&amp;#34; href=&amp;#34;&lt;/span>&lt;span class="si">${&lt;/span>&lt;span class="nx">imageLink&lt;/span>&lt;span class="si">}&lt;/span>&lt;span class="sb">&amp;#34; itemscope itemtype=&amp;#34;http://schema.org/ImageObject&amp;#34; itemprop=&amp;#34;url&amp;#34;&amp;gt;&amp;lt;/a&amp;gt;`&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="nx">parent&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;a&amp;#39;&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// 将缩略图src换成原图src
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="kd">var&lt;/span> &lt;span class="nx">$imageGalleryLink&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">$image&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">wrap&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="sb">`&amp;lt;a class=&amp;#34;fancybox fancybox.image&amp;#34; href=&amp;#34;&lt;/span>&lt;span class="si">${&lt;/span>&lt;span class="nx">imageLink&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">replace&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;.th.&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="s2">&amp;#34;.&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="si">}&lt;/span>&lt;span class="sb">&amp;#34; itemscope itemtype=&amp;#34;http://schema.org/ImageObject&amp;#34; itemprop=&amp;#34;url&amp;#34;&amp;gt;&amp;lt;/a&amp;gt;`&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="nx">parent&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;a&amp;#39;&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">$image&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">is&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;.post-gallery img&amp;#39;&lt;/span>&lt;span class="p">))&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">$imageWrapLink&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">addClass&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;post-gallery-img&amp;#39;&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">$imageWrapLink&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">attr&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;data-fancybox&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s1">&amp;#39;gallery&amp;#39;&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="nx">attr&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;rel&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s1">&amp;#39;gallery&amp;#39;&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span> &lt;span class="k">else&lt;/span> &lt;span class="k">if&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">$image&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">is&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;.group-picture img&amp;#39;&lt;/span>&lt;span class="p">))&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">$imageWrapLink&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">attr&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;data-fancybox&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s1">&amp;#39;group&amp;#39;&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="nx">attr&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;rel&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s1">&amp;#39;group&amp;#39;&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span> &lt;span class="k">else&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">$imageWrapLink&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">attr&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;data-fancybox&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s1">&amp;#39;default&amp;#39;&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="nx">attr&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;rel&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s1">&amp;#39;default&amp;#39;&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// 如果是相册页面下的图片 启用fancybox
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="k">if&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">$image&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">is&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;.img-row img&amp;#39;&lt;/span>&lt;span class="p">)){&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">$imageGalleryLink&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">addClass&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;post-gallery-img&amp;#39;&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">$imageGalleryLink&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">attr&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;data-fancybox&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s1">&amp;#39;gallery&amp;#39;&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="nx">attr&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;rel&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s1">&amp;#39;gallery&amp;#39;&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>这里并不适用所有,因为我的图床是通过Chevereto自建的,在上传图片之后,会给你多个图片格式的链接,包括缩略图\中等图以及原图,他们的格式是酱紫的:&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">原图: xxx.jpg
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">中等: xxx.md.jpg
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">缩略图: xxx.th.jpg
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>所以,只要在相册内容页面的图片地址填入缩略图,然后utils.js中会将&lt;code>th.&lt;/code>去掉,变成原图地址,这样点开之后就是原图了.写了一个简单的java来做这件事&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kd">class&lt;/span> &lt;span class="nc">TransUrl&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kd">static&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kt">void&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nf">main&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">String&lt;/span>&lt;span class="o">[]&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">args&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kd">throws&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">IOException&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">FileInputStream&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">fis&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">new&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">FileInputStream&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;url.txt&amp;#34;&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">BufferedReader&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">bis&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">new&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">BufferedReader&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="k">new&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">InputStreamReader&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">fis&lt;/span>&lt;span class="p">));&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">List&lt;/span>&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">String&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">strings&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">transUrl&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">bis&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="k">for&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">String&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">str&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">strings&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">System&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">out&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">print&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">str&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">private&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kd">static&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">List&lt;/span>&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">String&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nf">transUrl&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">BufferedReader&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">bis&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kd">throws&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">IOException&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">String&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">line&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kc">null&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">List&lt;/span>&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">String&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">pics&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">new&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">ArrayList&lt;/span>&lt;span class="o">&amp;lt;&amp;gt;&lt;/span>&lt;span class="p">();&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="k">while&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">((&lt;/span>&lt;span class="n">line&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">bis&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">readLine&lt;/span>&lt;span class="p">())&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">!=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kc">null&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">String&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">pattern&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s">&amp;#34;&amp;lt;img.*?&amp;gt;&amp;#34;&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">Pattern&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">compile&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">Pattern&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">compile&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;&amp;lt;img.*?&amp;gt;&amp;#34;&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">Matcher&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">matcher&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">compile&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">matcher&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">line&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="k">while&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">matcher&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">find&lt;/span>&lt;span class="p">())&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">String&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">img&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">matcher&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">group&lt;/span>&lt;span class="p">();&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">pics&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">add&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">img&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="k">return&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">pics&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>&lt;a class="link" href="https://imgchr.com/" target="_blank" rel="noopener"
>路过图床&lt;/a>也可以提供这种多格式链接,同时免费注册用户可以无限传图,对于小用户来说很棒啦,完全够用.&lt;/p>
&lt;h3 id="页面布局">页面布局
&lt;/h3>&lt;p>页面布局采用flex,这里有一篇详细介绍的&lt;/p>
&lt;ul>
&lt;li>&lt;a class="link" href="https://zhuanlan.zhihu.com/p/25303493" target="_blank" rel="noopener"
>https://zhuanlan.zhihu.com/p/25303493&lt;/a>&lt;/li>
&lt;/ul>
&lt;p>简单来说,flex布局会让你的div按照你的需求,从左到右从上到下依次排列,同时还可以按照指定方式进行对齐;&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;span class="lnt">28
&lt;/span>&lt;span class="lnt">29
&lt;/span>&lt;span class="lnt">30
&lt;/span>&lt;span class="lnt">31
&lt;/span>&lt;span class="lnt">32
&lt;/span>&lt;span class="lnt">33
&lt;/span>&lt;span class="lnt">34
&lt;/span>&lt;span class="lnt">35
&lt;/span>&lt;span class="lnt">36
&lt;/span>&lt;span class="lnt">37
&lt;/span>&lt;span class="lnt">38
&lt;/span>&lt;span class="lnt">39
&lt;/span>&lt;span class="lnt">40
&lt;/span>&lt;span class="lnt">41
&lt;/span>&lt;span class="lnt">42
&lt;/span>&lt;span class="lnt">43
&lt;/span>&lt;span class="lnt">44
&lt;/span>&lt;span class="lnt">45
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-css" data-lang="css">&lt;span class="line">&lt;span class="cl">&lt;span class="c">/*gallery*/&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">.&lt;/span>&lt;span class="nc">gallery-page&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">margin-top&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="mi">-50&lt;/span>&lt;span class="kt">px&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">.&lt;/span>&lt;span class="nc">gallery-column&lt;/span>&lt;span class="o">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">.&lt;/span>&lt;span class="nc">img-row&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">display&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="kc">flex&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">flex-direction&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="kc">row&lt;/span> &lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">flex-wrap&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="kc">wrap&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">justify-content&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="kc">space-between&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">.&lt;/span>&lt;span class="nc">img-row&lt;/span> &lt;span class="nt">a&lt;/span>&lt;span class="o">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">.&lt;/span>&lt;span class="nc">gallery-column&lt;/span> &lt;span class="nt">a&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">border-bottom&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="kt">px&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">.&lt;/span>&lt;span class="nc">gallery-item&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">margin-bottom&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="mi">-50&lt;/span>&lt;span class="kt">px&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">.&lt;/span>&lt;span class="nc">gallery-item&lt;/span> &lt;span class="nt">p&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">margin&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="mi">-25&lt;/span>&lt;span class="kt">px&lt;/span> &lt;span class="kc">auto&lt;/span> &lt;span class="mi">-10&lt;/span>&lt;span class="kt">px&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">max-width&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="mi">50&lt;/span>&lt;span class="kt">%&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">text-align&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="kc">center&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">font-size&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="mi">15&lt;/span>&lt;span class="kt">px&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">color&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="err">$&lt;/span>&lt;span class="kc">black&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">deep&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">background&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="nb">rgba&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">255&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="mi">255&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="mi">255&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="mf">.3&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">border-radius&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="mi">7&lt;/span>&lt;span class="kt">px&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">border&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="kt">px&lt;/span> &lt;span class="kc">solid&lt;/span> &lt;span class="err">$&lt;/span>&lt;span class="kc">black&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">deep&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">box-shadow&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="mi">0&lt;/span> &lt;span class="mi">8&lt;/span>&lt;span class="kt">px&lt;/span> &lt;span class="mi">20&lt;/span>&lt;span class="kt">px&lt;/span> &lt;span class="mi">-8&lt;/span>&lt;span class="kt">px&lt;/span> &lt;span class="nb">rgba&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">0&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="mi">0&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="mi">0&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="mf">.3&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">.&lt;/span>&lt;span class="nc">posts-expand&lt;/span> &lt;span class="p">.&lt;/span>&lt;span class="nc">post-body&lt;/span> &lt;span class="p">.&lt;/span>&lt;span class="nc">gallery-column&lt;/span> &lt;span class="nt">a&lt;/span> &lt;span class="nt">img&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">height&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="mi">250&lt;/span>&lt;span class="kt">px&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">width&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="mi">300&lt;/span>&lt;span class="kt">px&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">object-fit&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="kc">cover&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">.&lt;/span>&lt;span class="nc">posts-expand&lt;/span> &lt;span class="p">.&lt;/span>&lt;span class="nc">post-body&lt;/span> &lt;span class="nt">img&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">max-width&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="mi">180&lt;/span>&lt;span class="kt">px&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">@&lt;/span>&lt;span class="k">media&lt;/span> &lt;span class="o">(&lt;/span>&lt;span class="nt">max-width&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nt">767px&lt;/span>&lt;span class="o">)&lt;/span>&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">.&lt;/span>&lt;span class="nc">gallery-item&lt;/span> &lt;span class="nt">p&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">min-width&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="mi">75&lt;/span>&lt;span class="kt">px&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">font-size&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="mi">13&lt;/span>&lt;span class="kt">px&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">.&lt;/span>&lt;span class="nc">posts-expand&lt;/span> &lt;span class="p">.&lt;/span>&lt;span class="nc">post-body&lt;/span> &lt;span class="nt">img&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">max-width&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="mi">150&lt;/span>&lt;span class="kt">px&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="另外">另外
&lt;/h3>&lt;p>如果嫌麻烦的话,图片直接放博客静态文件就好了,github暂时速度还是可以的,也不用担心流量问题;&lt;/p>
&lt;p>记录的很简陋,因为只要自己能看懂 - - ,到时候动手修改还能记起来改哪里- -&lt;/p>
&lt;p>具体的还是请参考:&lt;/p>
&lt;p>&lt;a class="link" href="https://co5.me/2018/181112-gallerry2.html" target="_blank" rel="noopener"
>css+markdown 实现 hexo 相册【进阶篇】&lt;/a>&lt;/p></description></item><item><title>Hexo网站主题美化记录</title><link>https://blog.shineee.site/p/2018/09/15/hexo-next-customization/</link><pubDate>Sat, 15 Sep 2018 13:00:47 +0800</pubDate><guid>https://blog.shineee.site/p/2018/09/15/hexo-next-customization/</guid><description>&lt;p>Next一直是Hexo最热门的主题,本站采用了Next的Pisces主题,然后根据其他大佬的美化教程进行适当修改,记录一下.
虽然不是前端,但是对前端一直有兴趣,相比后端,前端作品完成后给人的成就感来的更直接,看到写出来的东西可以立即展现确实是一直道不出的乐趣.
网站纯粹因为兴趣,我是个喜欢小细节让自己满意的人,只要认定了的就必须改,所以经常会因为一丢丢小地方达不到自己想要的而&lt;code>废寝忘食&lt;/code>,没办法前端页面懂得不多,每次看一点忘一点.也不是没有收获~&lt;/p>
&lt;h2 id="网站主页面">网站主页面
&lt;/h2>&lt;p>&lt;a class="link" href="https://shineee.win" target="_blank" rel="noopener"
>主页面&lt;/a>是看到了 &lt;a class="link" href="https://github.com/iissnan" target="_blank" rel="noopener"
>@iissnan&lt;/a> 的&lt;a class="link" href="http://iissnan.com/" target="_blank" rel="noopener"
>主页&lt;/a>。clone一下,稍稍加了个头像和背景.&lt;/p>
&lt;p>还有一个我很喜欢的是&lt;a class="link" href="https://github.com/zchen9" target="_blank" rel="noopener"
>@zchen9&lt;/a>的&lt;a class="link" href="https://www.chen9.info/" target="_blank" rel="noopener"
>主页&lt;/a>,可惜功力不够无法&lt;del>复刻&lt;/del>（copy）&lt;/p>
&lt;h2 id="博客首页">博客首页
&lt;/h2>&lt;h3 id="修改页面大小">修改页面大小
&lt;/h3>&lt;p>Pisces主题的页面比较大,稍微小一点比较有紧凑感,更改了页面宽度,使得侧栏和主页面居中：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-css" data-lang="css">&lt;span class="line">&lt;span class="cl">&lt;span class="p">.&lt;/span>&lt;span class="nc">header&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">width&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="mi">960&lt;/span>&lt;span class="kt">px&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">.&lt;/span>&lt;span class="nc">container&lt;/span> &lt;span class="p">.&lt;/span>&lt;span class="nc">main-inner&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">width&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="mi">960&lt;/span>&lt;span class="kt">px&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">margin&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="mi">0&lt;/span> &lt;span class="kc">auto&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="侧栏网站logo">侧栏网站logo
&lt;/h3>&lt;p>本来是title和subtitle,不好看,单改字体又没那种感觉,就自己ps了一个logo,然后在&lt;code>\next\layout\_partials\header\brand.swig&lt;/code>中修改了一下,将title换成了图片:&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-html" data-lang="html">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">a&lt;/span> &lt;span class="na">href&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;{{ config.root }}&amp;#34;&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;brand&amp;#34;&lt;/span> &lt;span class="na">rel&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;start&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">span&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;logo-line-before&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&amp;lt;&lt;/span>&lt;span class="nt">i&lt;/span>&lt;span class="p">&amp;gt;&amp;lt;/&lt;/span>&lt;span class="nt">i&lt;/span>&lt;span class="p">&amp;gt;&amp;lt;/&lt;/span>&lt;span class="nt">span&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">span&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;site-title&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&amp;lt;&lt;/span>&lt;span class="nt">img&lt;/span> &lt;span class="na">src&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;img.png&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&amp;lt;/&lt;/span>&lt;span class="nt">span&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">span&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;logo-line-after&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&amp;lt;&lt;/span>&lt;span class="nt">i&lt;/span>&lt;span class="p">&amp;gt;&amp;lt;/&lt;/span>&lt;span class="nt">i&lt;/span>&lt;span class="p">&amp;gt;&amp;lt;/&lt;/span>&lt;span class="nt">span&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">a&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>同时加了一个鼠标移动效果:&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-css" data-lang="css">&lt;span class="line">&lt;span class="cl">&lt;span class="p">.&lt;/span>&lt;span class="nc">site-meta&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="nd">hover&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">background&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="nb">rgba&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">0&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="mi">0&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="mi">0&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="mf">0.9&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">border-radius&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="mi">0&lt;/span> &lt;span class="mi">0&lt;/span> &lt;span class="mi">70&lt;/span>&lt;span class="kt">px&lt;/span> &lt;span class="mi">70&lt;/span>&lt;span class="kt">px&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">box-shadow&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="mi">0&lt;/span> &lt;span class="mi">8&lt;/span>&lt;span class="kt">px&lt;/span> &lt;span class="mi">20&lt;/span>&lt;span class="kt">px&lt;/span> &lt;span class="mi">-3&lt;/span>&lt;span class="kt">px&lt;/span> &lt;span class="nb">rgba&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">0&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="mi">0&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="mi">0&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="mf">0.6&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">.&lt;/span>&lt;span class="nc">site-meta&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">background&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="nb">rgba&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">0&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="mi">0&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="mi">0&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="mf">0.8&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">border-radius&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="mi">0&lt;/span> &lt;span class="mi">0&lt;/span> &lt;span class="mi">0&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">box-shadow&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="mi">0&lt;/span> &lt;span class="mi">2&lt;/span>&lt;span class="kt">px&lt;/span> &lt;span class="mi">15&lt;/span>&lt;span class="kt">px&lt;/span> &lt;span class="mi">0&lt;/span> &lt;span class="nb">rgba&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">0&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="mi">0&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="mi">0&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="mf">0.6&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">transition&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="kc">all&lt;/span> &lt;span class="mf">0.2&lt;/span>&lt;span class="kt">s&lt;/span> &lt;span class="kc">linear&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="自定义图标">自定义图标
&lt;/h3>&lt;p>图标来自&lt;a class="link" href="https://www.iconfont.cn/" target="_blank" rel="noopener"
>阿里巴巴图标库&lt;/a>,真的是好用的一皮.选择心仪的图标加入到你的项目中,然后就可以直接调用了.这里采用的是&lt;code>symbol引用&lt;/code>&lt;/p>
&lt;blockquote>
&lt;p>这是一种全新的使用方式，应该说这才是未来的主流，也是平台目前推荐的用法。相关介绍可以参考这篇&lt;a class="link" href="https://www.iconfont.cn/help/detail?spm=a313x.7781069.1998910419.d8cf4382a&amp;amp;helptype=code" target="_blank" rel="noopener"
>文章&lt;/a> 这种用法其实是做了一个svg的集合，与上面两种相比具有如下特点：&lt;/p>
&lt;ul>
&lt;li>支持多色图标了，不再受单色限制。&lt;/li>
&lt;li>通过一些技巧，支持像字体那样，通过&lt;code>font-size&lt;/code>,&lt;code>color&lt;/code>来调整样式。&lt;/li>
&lt;li>兼容性较差，支持 ie9+,及现代浏览器。&lt;/li>
&lt;li>浏览器渲染svg的性能一般，还不如png。&lt;/li>
&lt;/ul>&lt;/blockquote>
&lt;p>主要是因为它是彩色的,好看……o((≧▽≦o) ～&lt;/p>
&lt;ol>
&lt;li>
&lt;p>在图标库选择好你的图标后，选择Symbol，复制css链接，加入到&lt;code>blog/source/data/head.swig&lt;/code>中&lt;/p>
&lt;/li>
&lt;li>
&lt;p>在styles.styl中加入.icon样式&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-css" data-lang="css">&lt;span class="line">&lt;span class="cl">&lt;span class="p">.&lt;/span>&lt;span class="nc">icon&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">width&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="mi">20&lt;/span>&lt;span class="kt">px&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="k">height&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="mi">20&lt;/span>&lt;span class="kt">px&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">vertical-align&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="mf">-4.5&lt;/span>&lt;span class="kt">px&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">fill&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="kc">currentColor&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">overflow&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="kc">hidden&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;li>
&lt;p>在&lt;code>\next\layout\_partials\header\menu-item.swig&lt;/code>中修改,将图标格式修改为svg&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-css" data-lang="css">&lt;span class="line">&lt;span class="cl">&lt;span class="p">{&lt;/span>&lt;span class="err">%-&lt;/span> &lt;span class="err">set&lt;/span> &lt;span class="err">menuText&lt;/span> &lt;span class="err">=&lt;/span> &lt;span class="err">__(&amp;#39;menu.&amp;#39;&lt;/span> &lt;span class="err">+&lt;/span> &lt;span class="err">name)&lt;/span> &lt;span class="err">|&lt;/span> &lt;span class="err">replace(&amp;#39;menu.&amp;#39;,&lt;/span> &lt;span class="err">&amp;#39;&amp;#39;)&lt;/span> &lt;span class="err">%&lt;/span>&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">{&lt;/span>&lt;span class="err">%-&lt;/span> &lt;span class="err">if&lt;/span> &lt;span class="err">theme.menu_settings.icons&lt;/span> &lt;span class="err">%&lt;/span>&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span>&lt;span class="err">%-&lt;/span> &lt;span class="err">set&lt;/span> &lt;span class="err">menuIcon&lt;/span> &lt;span class="err">=&lt;/span> &lt;span class="err">&amp;#39;&amp;lt;svg&lt;/span> &lt;span class="err">class=&amp;#34;icon&lt;/span> &lt;span class="err">aria-hidden=&amp;#34;true&amp;#34;&amp;gt;&amp;lt;use&lt;/span> &lt;span class="n">xlink&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="n">href&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;#&amp;#39; + value.split(&amp;#39;||&amp;#39;)[1] | trim | default(&amp;#39;icon-zhizhuxia&amp;#39;) + &amp;#39;&amp;#34;&lt;/span>&lt;span class="o">&amp;gt;&amp;lt;/&lt;/span>&lt;span class="n">use&lt;/span>&lt;span class="o">&amp;gt;&amp;lt;/&lt;/span>&lt;span class="n">svg&lt;/span>&lt;span class="o">&amp;gt;&amp;lt;&lt;/span>&lt;span class="n">br&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>&lt;span class="err">&amp;#39;&lt;/span> &lt;span class="o">%&lt;/span>&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">{&lt;/span>&lt;span class="err">%-&lt;/span> &lt;span class="err">endif&lt;/span> &lt;span class="err">%&lt;/span>&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>这里参看阿里巴巴图标库的&lt;a class="link" href="https://www.iconfont.cn/help/detail?spm=a313x.7781069.1998910419.d8cf4382a&amp;amp;helptype=code" target="_blank" rel="noopener"
>使用教程&lt;/a>&lt;/p>
&lt;p>最后，在&lt;code>next\_config.yml&lt;/code>中将图标名称改成阿里图标库中的名称就可以了&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-xml" data-lang="xml">&lt;span class="line">&lt;span class="cl">social:
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> GitHub: https://github.com/xxx || icon-github-footer
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;/ol>
&lt;p>侧栏中社交链接图标也是如此&lt;/p>
&lt;h3 id="归档页面显示十二生肖">归档页面显示十二生肖
&lt;/h3>&lt;p>参考大佬的&lt;a class="link" href="https://guanqr.com/tech/website/hexo-theme-next-customization/" target="_blank" rel="noopener"
>配置&lt;/a>，然后在自己修改一下css就ok。&lt;/p>
&lt;h3 id="其他细节">其他细节
&lt;/h3>&lt;p>类似标签、背景动画、评论以及next主题自带原有的功能不再赘述，Google一下大把，最重要的还是要自己喜欢，同时能够在学习大佬的过程中不断提升自己。&lt;/p>
&lt;h2 id="参考大佬">参考大佬
&lt;/h2>&lt;p>以下是在博客搭建和美化过程中搜到的大佬们，网站很棒内容很干，希望有一天也能成为&lt;del>大佬中的一员&lt;/del>(不，你不想.jpg)&lt;/p>
&lt;p>&lt;a class="link" href="https://co5.me/" target="_blank" rel="noopener"
>@co5=Shioko&lt;/a>&lt;/p>
&lt;p>&lt;a class="link" href="https://moe.best/cross.html" target="_blank" rel="noopener"
>@神代綺凜&lt;/a> 这个博客是基于Typecho的，但是很多东西还是可以借鉴的嘛～&lt;/p>
&lt;p>&lt;a class="link" href="https://www.guanqr.com/" target="_blank" rel="noopener"
>@荷戟独彷徨&lt;/a> 但是大佬已经转成&lt;a class="link" href="https://github.com/gohugoio/hugo" target="_blank" rel="noopener"
>Hugo&lt;/a>了 - -&lt;/p>
&lt;p>长路漫漫，希望可以走的远一点。&lt;/p>
&lt;p>多写，多搜，多思考。&lt;/p></description></item><item><title>谈一个遥远的话题</title><link>https://blog.shineee.site/p/2018/09/01/justwanttotalk/</link><pubDate>Sat, 01 Sep 2018 22:22:22 +0800</pubDate><guid>https://blog.shineee.site/p/2018/09/01/justwanttotalk/</guid><description>&lt;p>最喜欢日剧的一点就是，每个人都能笑得很开心，说话的语调，夸张的表情，莫名的脑洞，中二的对白，睿智（的情节，将生活最平淡无奇的故事讲的那么温暖人心。&lt;/p>
&lt;p>不会有韩剧各种泡菜梗，也不会有国产剧窒息的剧情，日剧讲的故事就是生活中的柴米油盐，但是你闻着看着却像仙境佳肴。一个拥抱就能让你冰冻起来的心被初春的太阳暖着被三月的春风润着。让你知道，无论是什么生活无论是什么角色无论是什么处境，一切都会好起来。&lt;/p>
&lt;p>上个周末回家了一趟，来来回回飞了几千里地，也不敢多请几天假。也好，时间长了也有时间长的坏处。从机场回来的路上刷着B站，刚好看到《逃避可耻但有用》上线了，然后就花了一个星期追完了。&lt;/p>
&lt;p>昨天迎来了最终回，啊哈，就结束了。&lt;/p>
&lt;p>最喜欢日剧的一点就是，每个人都能笑得很开心，说话的语调，夸张的表情，莫名的脑洞，中二的对白，睿智（的情节，将生活最平淡无奇的故事讲的那么温暖人心。不会有韩剧各种泡菜梗，也不会有国产剧窒息的剧情，日剧讲的故事就是生活中的柴米油盐，但是你闻着看着却像仙境佳肴。一个拥抱就能让你冰冻起来的心被初春的太阳暖着被三月的春风润着。让你知道，无论是什么生活无论是什么角色无论是什么处境，一切都会好起来。&lt;/p>
&lt;p>故事讲的是，一个大龄职业单身程序猿和一个硕士毕业在家待业女之间进行契约结婚故事（伪）。&lt;/p>
&lt;p>契约结婚是一个新概念，粗暴的可以解释为每年过年淘宝就可以看到的租女友服务，契约结婚也是如此（个人理解就是为了某种需求而假结婚，并像对方支付一定劳动费用)。&lt;/p>
&lt;p>而与之相对的，就是事实婚姻，即&lt;/p>
&lt;blockquote>
&lt;p>双方未在结婚登记机关进行登记而以夫妻名义共同生活的事实。&lt;/p>&lt;/blockquote>
&lt;p>在国内的一些未发达地区，这种情况还是非常多的，但随着经济发展，这种情况也在逐渐减少。2001年《婚姻法》解释，事实婚姻为历时遗留问题，自1994年之后的所谓“事实婚姻”均无法律效应，只能被认定为“同居关系”。&lt;/p>
&lt;p>但是在日本，事实婚【事実婚】是很常见的，而且可以直接申请，更改住民票，不用更改户籍不用改姓，离婚也不会有离婚记录等等，但是无法获得配偶签证、伴侣无法成为法定继承人，也不适用一些专项税率的扣除减免balabala。&lt;/p>
&lt;p>&lt;img src="https://i.loli.net/2019/09/24/HOcTVWEFkorsufp.png"
loading="lazy"
alt="图-法律婚姻与事实婚所享权利的异同点 "
>&lt;/p>
&lt;p>在日本，事实婚还不属于主流，可以读一读渡边淳一的著作《在一起，不结婚》，讲了啥我也不知道因为我还没看但是搜事实婚出来的最多就是他的这本书豆瓣评分6.7应该不会差到哪里去就当了解风土人情了。&lt;/p>
&lt;hr>
&lt;p>好像从开头绕到婚姻扯了很远，这个改不了的一直是这样想到什么说什么不写稿子就是这样了本来没想写这么多的但是随便写写发现自己想的东西并不是那个样子啊就有点好奇了就要去google一下啊总不能瞎写啊虽然没人看但是还是要打破砂锅问到底有没有啊。&lt;/p>
&lt;p>这个星期知晓了两位高中同学在十一期间举办婚礼的消息，谈不下惊讶，只是有点感慨。今天部门工会活动，去了好多好多个小孩，真是可爱啊。又想起上上月去同事家里，同事妈妈跟我们唠嗑，【抱怨】着现在老一辈的辛苦，又要帮着带孩子又要做家务还得受气~&lt;/p>
&lt;p>&lt;img src="https://i.loli.net/2019/09/24/HCLuYmOtBcZprES.png"
loading="lazy"
alt="采访某位同学时候的感言"
>&lt;/p>
&lt;p>现在的生活啊，不就是这样。既然想着更好的生活，就要有更多的付出，除了自己，还有家人。明了点就是money的问题，想要自己期望的好的生活，就需要更多的投入（金钱）。当然也是可以退一步，降低自己的生活水平，现在以及以后，看个人意愿吧，可以在大城市奋斗终身搏一席之地，也可以退一步到小城市海阔天空。&lt;/p>
&lt;p>一家之言，单身狗的想法总是不一样的，对于有些人来说，婚姻更像是一个动力源，会给你更多power和support，对于有些人来说，婚姻会让你有一个可以依靠可以倾诉的对象，会有一个一直支持你的人在你身边——角色不同，看到的自然也不同。&lt;/p>
&lt;p>所以啊，好好生活，生活是真真切切属于你的。无论是否结婚，都要开心健康的生活着。&lt;/p></description></item><item><title>别离</title><link>https://blog.shineee.site/p/2017/08/26/sayonara/</link><pubDate>Sat, 26 Aug 2017 10:00:00 +0800</pubDate><guid>https://blog.shineee.site/p/2017/08/26/sayonara/</guid><description>&lt;p>最近一段时间天气挺好，晚上吹吹风好凉快。&lt;/p>
&lt;p>从岗前培训班回来已经一个月多了，又有一个月没更新公众号了╮(╯▽╰)╭&lt;/p>
&lt;p>时间好像错乱了一样，记不清一个月发生的事情哪个在前哪个在后。大概还是轮岗做的事情太少，想得太多。这一个月发生了很多事情，虽然可能平平淡淡没太多亮点，但是现在坐下来想想还是挺多值得回味的啊。&lt;/p>
&lt;p>以前呢，老想着毕业之后找一个普普通通的工作，当个普普通通的小白领，在普普通通的城市的一栋普普通通的写字楼里上普普通通的班。电视剧小说还有知乎看的太多可能就这个想法吧哈哈哈哈&amp;hellip;..&lt;/p>
&lt;p>现在也没差，毕竟还没有正儿八经的到岗正式上班，忙的日子还在后面呢。看其他兄弟公司的同部门的兄弟每个周末都跑跑跑，自己还是要好好珍惜现在所剩无几的可以浪的时光啊。&lt;/p>
&lt;p>好像跑题了。。&lt;/p>
&lt;p>上周去了深圳看了一场电影，回来在深圳北的检票口遇见一对情侣分别。看起来好像也是刚工作的毕业生，两人在快速通道的检票口依依不舍，男生要走女孩要留，一个默默流泪一个轻轻抚慰。单身狗的我在旁边看的心里满是感动，毕竟第一次在火车站近距离看到分离。&lt;/p>
&lt;blockquote>
&lt;p>悲莫悲兮生别离，乐莫乐兮新相知。&lt;/p>&lt;/blockquote>
&lt;p>别离别离，说到底还是不想离。毕业季老这样，俗套而又实实在在真真切切的情感。人嘛，就是这样咯。&lt;/p>
&lt;p>一个月前，和刚认识的未来老总们说再见；
两个月前，和相识四年的老铁们说再见，和不再回来的学生时光说再见。&lt;/p>
&lt;p>今天是2017年8月26日，B站首播《君の名は。》，一年前的8月26日电影在日本上映，我查了一下电影票，去年的12月2日，当时一个人去的光谷天地看的电影，后来又和少爷一起去看了一遍。都记不清那么久远的事情了。记不得了&lt;/p>
&lt;blockquote>
&lt;p>伤感的话不用说
忧愁的泪不用流
请往前走
不要回头&lt;/p>&lt;/blockquote>
&lt;p>又跑题了&lt;/p>
&lt;p>以后常有的事情&lt;/p>
&lt;blockquote>
&lt;p>人生如逆旅，我亦是行人。&lt;/p>&lt;/blockquote>
&lt;p>很高兴认识你们。&lt;/p></description></item><item><title>东莞七日</title><link>https://blog.shineee.site/p/2017/07/06/seven-days-in-dongguan/</link><pubDate>Thu, 06 Jul 2017 19:10:47 +0800</pubDate><guid>https://blog.shineee.site/p/2017/07/06/seven-days-in-dongguan/</guid><description>&lt;p>到东莞已经一周。一直很懒，日记都不常写了。&lt;/p>
&lt;p>29号早早起来收拾了好久，什么能带的全带上了，好在东莞远，若是在武汉，我估计我会把整个宿舍搬空，一张纸都不剩。&lt;/p>
&lt;p>走的时候还好好的，已经送走了那么多人好像也没觉得有什么，散伙饭吃的喝的都好，不说离别伤感，尽是祝前程道未来。也好&lt;/p>
&lt;p>到东莞的高铁五个小时，自入岭南，风景就大不一样了。山变了，树变了，连云都变了。洲哥说这边天都更蓝了，我说兄弟你可拉倒吧别聊爆了。&lt;/p>
&lt;p>&lt;img src="https://pic.sikie.wang/images/2019/10/08/cloud.png"
loading="lazy"
alt="cloud.png"
>&lt;/p>
&lt;p>东莞地铁人不是那么多，两站之间离得比较远。下地铁之后拖着行李箱慢慢走到公司，不得不说东莞给我的第一印象非常好，我就喜欢宽宽的马路，自行车道都有标识而且在上面，很安全。到的那天刚好中午下过雨，下午天晴，空气温度都很棒。&lt;/p>
&lt;p>入住，整理，出门，觅食。公司周围万达、沃尔玛还有其他商区都挺近，骑着单车晃悠悠的荡着很惬意，如果不用流那么多汗的话(lll￢ω￢)。听着过往路人说着粤语，才会让你更加感觉到身在异乡。吃着口味奇淡啥菜都能蘸酱油的午饭时，才会觉得芝麻酱真是个好东西。&lt;/p>
&lt;p>一切都很陌生，一切都很新奇，好在有人陪。会有新的生活，新的朋友，新的身份。从不畏惧新环境，只是担心自己不去接受新的自己。&lt;/p>
&lt;p>&lt;img src="https://pic.sikie.wang/images/2019/10/08/clid.png"
loading="lazy"
alt="clid.png"
>&lt;/p>
&lt;p>在分公司三天的短暂培训结束，没有想象中那般严厉或者让人无法接受。有两位老总的话倒是让我很受触动，尤其开朝元老讲的，不讲政治正确，实事求是，又平易近人。听完之后对这个行业这个职业多一份理解和接受，少了些许不安和疑惑。然事事实实虚虚虚虚实实，他讲的生活未必是你的生活，还是要体验之后才能更加确认。&lt;/p>
&lt;p>过两天要参加省公司的培训，听说挺严的，考核不合格还会被放弃，然而我只关心那边伙食好不好，，，&lt;/p>
&lt;p>长路漫漫，不知能走多远。&lt;/p>
&lt;p>那就风雨兼程吧。&lt;/p></description></item><item><title>送</title><link>https://blog.shineee.site/p/2017/06/12/say-goodbye/</link><pubDate>Mon, 12 Jun 2017 14:00:47 +0800</pubDate><guid>https://blog.shineee.site/p/2017/06/12/say-goodbye/</guid><description>&lt;p>昨天看到电影频道要播《入殓师》，想想好像很早的片子了，初中就说要看一直没看，电视上放的国语版不想听，还是听原声的好。&lt;/p>
&lt;p>（以下剧透。不过我觉得没什么可剧透的因为故事很简单，所有的情节台词套路你看到这一幕都能想到下一幕他要说啥做啥┑(￣Д ￣)┍）&lt;/p>
&lt;p>故事其实挺简单，讲述一个成年男子失业之后再就业的问题😶再就业期间由于家人及社会对其新职业产生的种种看法而产生冲突，但是后来男主还是爱上了这份工作并让家人和其他人也逐渐接受了这个职业。嗯就是这么个故事&lt;/p>
&lt;p>抛开入殓师这个特殊职业来看这片子剧情就是这样的呀我说的一点问题也没有的。&lt;/p>
&lt;p>谈到死亡多少有点畏惧，不过生在农村，从小到大，也见了不少葬礼。很小的时候不懂事，只觉得好玩，因为丧礼上会有许多敲锣打鼓的，而且很好听。会有道士来穿着大大的道袍做法事，又跳又唱，就是听不清唱的什么。葬礼的规矩也是特别多，各种主事的，鞭炮、挽联、蜡烛香火&amp;hellip;..&lt;/p>
&lt;p>家这边依旧是土葬，极少有火化的，一般是在外地去世才会火化，即使火化也会进行土葬。遗体及棺木会在灵堂放几天，到了日子便送上山入土。冬天还好，如果是夏天，遗体放久了就会有味道而且会有苍蝇蚊子之类的，所以现在也有了冰棺，等到要上山时才放到棺木里。&lt;/p>
&lt;p>我看过几次躺在里面的人，最近的是我爷爷去世的时候，想想也有六年了。快要合棺的时候才去看最后一眼。就看了一眼，脸上僵僵的，嘴是笑着的。那种笑真的让人觉得冷。&lt;/p>
&lt;p>说远了，回到电影吧。搜新闻看到很多人看了这个电影去做入殓师了，觉得很有仪式感很艺术而且也很高薪。电影表现的确实很美，一言一行细致入微，让人觉得躺在那里的仿佛仍旧在世。&lt;/p>
&lt;p>&lt;img src="https://pic.sikie.wang/images/2019/10/08/Snipaste_2019-10-08_16-34-24.png"
loading="lazy"
alt="入殓师.png"
>&lt;/p>
&lt;p>男主的工作就是为往生者整理妆容，让他们在最后一刻仍旧美丽，在最后一刻依旧被温柔相待。不过在国内，这个职业可能没那么多令人尊敬或者心怀敬意，更多的还是暴利。就跟医院的医生护士一样，生死看惯，麻木与否我不知道，但是对死者的敬意我见得不多。&lt;/p>
&lt;p>正值青春年少好像谈这些有点不太合适，不过 了解过死亡，才能更加体会到生的意义吧。&lt;/p>
&lt;p>我们每走一步都希望有一个好的结果，得到便成幸福。考试，升迁，结婚，但其实结果连同它得到的过程便连接成了一生。好的你要经过，不好的也是经过。所不同的是，你是否在感谢光明的同时依旧感激黑暗，你是否在难过的时候能一如既往地温暖和柔软？&lt;/p>
&lt;hr>
&lt;p>本片获第81届奥斯卡最佳外语奖。由泷田洋二郎执导，主演本木雅弘、广末凉子、山崎努等，音乐则由久石让负责。豆瓣评分8.8，很适合一个人在夜晚慢慢观赏，整个电影平淡而不失色彩，每个人看到的点都会不一样。亲情、工作、婚姻、生死，每一样都能给你不同的看法吧。&lt;/p>
&lt;p>愿你我都能被世界温柔相待。&lt;/p></description></item><item><title>愿你我都能被世界温柔相待</title><link>https://blog.shineee.site/p/2017/06/12/wish-you-be-loved-by-the-world/</link><pubDate>Mon, 12 Jun 2017 14:00:47 +0800</pubDate><guid>https://blog.shineee.site/p/2017/06/12/wish-you-be-loved-by-the-world/</guid><description>&lt;p>昨天看到电影频道要播《入殓师》，想想好像很早的片子了，初中就说要看一直没看，电视上放的国语版不想听，还是听原声的好。&lt;/p>
&lt;p>（以下剧透。不过我觉得没什么可剧透的因为故事很简单，所有的情节台词套路你看到这一幕都能想到下一幕他要说啥做啥┑(￣Д ￣)┍）&lt;/p>
&lt;p>故事其实挺简单，讲述一个成年男子失业之后再就业的问题😶再就业期间由于家人及社会对其新职业产生的种种看法而产生冲突，但是后来男主还是爱上了这份工作并让家人和其他人也逐渐接受了这个职业。嗯就是这么个故事&lt;/p>
&lt;p>&lt;img src="http://mmbiz.qpic.cn/mmbiz/cZV2hRpuAPiaJQXWGyC9wrUzIicibgXayrgbt19vgn5IUAoYunu0ibwhvsG90vMFKhSDubCJuP8sUuA7ice9kXcdN5g/0?wx_fmt=gif&amp;amp;tp=webp&amp;amp;wxfrom=5&amp;amp;wx_lazy=1"
loading="lazy"
alt="天线宝宝"
>&lt;/p>
&lt;p>抛开入殓师这个特殊职业来看这片子剧情就是这样的呀我说的一点问题也没有的。&lt;/p>
&lt;p>&lt;img src="http://mmbiz.qpic.cn/mmbiz/cZV2hRpuAPgHNv7T6fSaya67KiasJ8TjcrEhUCvO7nezUm0MsPPEoPDNnfYEaWjH4OJxYksRBNh09DaNicQOVKgQ/640?wx_fmt=jpeg&amp;amp;tp=webp&amp;amp;wxfrom=5&amp;amp;wx_lazy=1&amp;amp;wx_co=1"
loading="lazy"
alt="害怕"
>&lt;/p>
&lt;p>谈到死亡多少有点畏惧，不过生在农村，从小到大，也见了不少葬礼。很小的时候不懂事，只觉得好玩，因为丧礼上会有许多敲锣打鼓的，而且很好听。会有道士来穿着大大的道袍做法事，又跳又唱，就是听不清唱的什么。葬礼的规矩也是特别多，各种主事的，鞭炮、挽联、蜡烛香火&amp;hellip;..&lt;/p>
&lt;p>家这边依旧是土葬，极少有火化的，一般是在外地去世才会火化，即使火化也会进行土葬。遗体及棺木会在灵堂放几天，到了日子便送上山入土。冬天还好，如果是夏天，遗体放久了就会有味道而且会有苍蝇蚊子之类的，所以现在也有了冰棺，等到要上山时才放到棺木里。&lt;/p>
&lt;p>我看过几次躺在里面的人，最近的是我爷爷去世的时候，想想也有六年了。快要合棺的时候才去看最后一眼。就看了一眼，脸上僵僵的，嘴是笑着的。那种笑真的让人觉得冷。&lt;/p>
&lt;p>说远了，回到电影吧。搜新闻看到很多人看了这个电影去做入殓师了，觉得很有仪式感很艺术而且也很高薪。电影表现的确实很美，一言一行细致入微，让人觉得躺在那里的仿佛仍旧在世。&lt;/p>
&lt;p>&lt;img src="http://mmbiz.qpic.cn/mmbiz_jpg/hQibibx5uKmdib9FrWEbNTYib8KAelRqIZGYvRbhKMOoDUYBrMpy2nwSxwGlbDknLwjIvpApHppq0uHB2damluRlRQ/640?tp=webp&amp;amp;wxfrom=5&amp;amp;wx_lazy=1&amp;amp;wx_co=1"
loading="lazy"
alt="img"
>&lt;/p>
&lt;p>男主的工作就是为往生者整理妆容，让他们在最后一刻仍旧美丽，在最后一刻依旧被温柔相待。不过在国内，这个职业可能没那么多令人尊敬或者心怀敬意，更多的还是暴利。就跟医院的医生护士一样，生死看惯，麻木与否我不知道，但是对死者的敬意我见得不多。&lt;/p>
&lt;p>正值青春年少好像谈这些有点不太合适，不过 了解过死亡，才能更加体会到生的意义吧。&lt;/p>
&lt;p>我们每走一步都希望有一个好的结果，得到便成幸福。考试，升迁，结婚，但其实结果连同它得到的过程便连接成了一生。好的你要经过，不好的也是经过。所不同的是，你是否在感谢光明的同时依旧感激黑暗，你是否在难过的时候能一如既往地温暖和柔软？&lt;/p>
&lt;hr>
&lt;p>本片获第81届奥斯卡最佳外语奖。由泷田洋二郎执导，主演本木雅弘、广末凉子、山崎努等，音乐则由久石让负责。豆瓣评分8.8，很适合一个人在夜晚慢慢观赏，整个电影平淡而不失色彩，每个人看到的点都会不一样。亲情、工作、婚姻、生死，每一样都能给你不同的看法吧。&lt;/p>
&lt;p>愿你我都能被世界温柔相待。&lt;/p></description></item><item><title>python爬取网站图片</title><link>https://blog.shineee.site/p/2016/11/10/10762/</link><pubDate>Thu, 10 Nov 2016 10:00:47 +0800</pubDate><guid>https://blog.shineee.site/p/2016/11/10/10762/</guid><description>&lt;blockquote>
&lt;p>爬虫小练习。看妹子 ( ͡° ͜ʖ ͡°)&lt;/p>&lt;/blockquote>
&lt;h3 id="主要步骤">主要步骤：
&lt;/h3>&lt;ol>
&lt;li>
&lt;p>获取网页地址，找到图片地址所在标签&lt;/p>
&lt;/li>
&lt;li>
&lt;p>用beautifulsoup解析出图片实际地址以及图片标题&lt;/p>
&lt;/li>
&lt;li>
&lt;p>分析网页页面逻辑，找出最终页码&lt;/p>
&lt;/li>
&lt;li>
&lt;p>写入循环，在每页将图片写入到本地&lt;/p>
&lt;/li>
&lt;/ol>
&lt;h3 id="主要代码">主要代码
&lt;/h3>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-python3" data-lang="python3">&lt;span class="line">&lt;span class="cl">&lt;span class="n">start_html&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">requests&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">get&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">baseUrl&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">headers&lt;/span>&lt;span class="o">=&lt;/span> &lt;span class="n">headers&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">content&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">start_html&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">content&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>这里用.content是为了避免网页编码和python编码不同而导致中文乱码问题，各个网站的编码都不一样，有些事utf-8,有些事GBK，还有其他的。这里可以避免编码影响。&lt;/p>
&lt;p>按F12，检查图片地址所在标签，见下图
&lt;img src="https://picsshine.oss-cn-shenzhen.aliyuncs.com/blogpics/blog-20170610-%e9%a1%b5%e7%a0%81.png"
loading="lazy"
alt="图片地址"
>
右键-&amp;gt;copy selecter，可以看到，图片所在标签为&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">div &amp;gt; div.ui-main &amp;gt; div:nth-child(9) &amp;gt; div.mala-text
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>所以在beautifulsoup中图片地址选择可以写成&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="line">&lt;span class="cl">&lt;span class="n">img_url&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">img_soup&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">find&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;div&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">class_&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s1">&amp;#39;ui-main&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">find_all&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;img&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>可以找出此页面所有img标签。同理可以找到图片标题。但是此处找到的是所在标签，打印出来的是&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">&amp;lt;img alt=&amp;#34;美女&amp;#34; src=&amp;#34;http://wx4.sinaimg.cn/mw600/680f28e6gy1ffi9650prlj20dw0iidj6.jpg&amp;#34; style=&amp;#34;width: 350px; height: 466px;&amp;#34;&amp;gt;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&amp;lt;a href=&amp;#34;/miss/7159.html&amp;#34;&amp;gt;美女&amp;lt;/a&amp;gt;
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>所以声明一个新的变量来提取图片地址，同理得到标题&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="line">&lt;span class="cl">&lt;span class="n">imgs&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">img_url&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="s1">&amp;#39;src&amp;#39;&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="c1">#图片地址&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">name&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">titles&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">tet_text&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>最后，找到页码标签，
&lt;img src="https://picsshine.oss-cn-shenzhen.aliyuncs.com/blogpics/blog-20170610-%e5%9b%be%e7%89%87%e5%9c%b0%e5%9d%80.png"
loading="lazy"
alt="页码"
>
可以看到末页标签是在page类下的最后一个，所以我们可以用&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="line">&lt;span class="cl">&lt;span class="n">maxPages&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">soup&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">find&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;div&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="n">class_&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s1">&amp;#39;page&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">find_all&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;a&amp;#39;&lt;/span>&lt;span class="p">)[&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">][&lt;/span>&lt;span class="s1">&amp;#39;href&amp;#39;&lt;/span>&lt;span class="p">]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">maxpage0&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">re&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">findall&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;\d+&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="n">maxPages&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">#最大页面值&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">maxpage&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">maxpage0&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="mi">0&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="c1">#最终页码 值类型为int&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>soup找到的结果为一个数组，所以我们还要处理一下得到一个数字。&lt;/p>
&lt;p>最后，图片的写入以及文件夹的创建。因为每一页都有八张图（最后一页不一定，因此页面循环时不要循环到最后一页），所以每一页循环八次获取图片。&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="line">&lt;span class="cl"> &lt;span class="n">path&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nb">str&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">page&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">#如果文件夹已经存在，再次创建会出错，所以这里用了一个if循环&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="n">os&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">path&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">exists&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;D:\meizitu&lt;/span>&lt;span class="se">\\&lt;/span>&lt;span class="s1">&amp;#39;&lt;/span>&lt;span class="o">+&lt;/span>&lt;span class="n">path&lt;/span>&lt;span class="p">):&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nb">print&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;文件夹已存在&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">else&lt;/span>&lt;span class="p">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">os&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">makedirs&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">os&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">path&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">join&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;D:\meizitu&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="n">path&lt;/span>&lt;span class="p">))&lt;/span> &lt;span class="c1">#创建文件夹&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">os&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">chdir&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;D:\meizitu&lt;/span>&lt;span class="se">\\&lt;/span>&lt;span class="s2">&amp;#34;&lt;/span>&lt;span class="o">+&lt;/span>&lt;span class="n">path&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">for&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="ow">in&lt;/span> &lt;span class="nb">range&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">0&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="mi">8&lt;/span>&lt;span class="p">):&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">name&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">titles&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="p">]&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">get_text&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="c1">#图片标题&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">imgs&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">img_url&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="p">][&lt;/span>&lt;span class="s1">&amp;#39;src&amp;#39;&lt;/span>&lt;span class="p">]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">img&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">requests&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">get&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">imgs&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="n">headers&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="n">headers&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">#因为图片类型主要是JPG和GIF两种，所以这里也写一个if选择&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="n">imgs&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="mi">3&lt;/span>&lt;span class="p">:]&lt;/span> &lt;span class="o">==&lt;/span> &lt;span class="s2">&amp;#34;gif&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">f&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nb">open&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">name&lt;/span>&lt;span class="o">+&lt;/span>&lt;span class="s1">&amp;#39;.gif&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="s1">&amp;#39;ab&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">f&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">write&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">img&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">content&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">f&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">close&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">else&lt;/span>&lt;span class="p">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">f&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nb">open&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">name&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="s1">&amp;#39;.jpg&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s1">&amp;#39;ab&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">f&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">write&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">img&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">content&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">f&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">close&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>最终代码如下：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;span class="lnt">28
&lt;/span>&lt;span class="lnt">29
&lt;/span>&lt;span class="lnt">30
&lt;/span>&lt;span class="lnt">31
&lt;/span>&lt;span class="lnt">32
&lt;/span>&lt;span class="lnt">33
&lt;/span>&lt;span class="lnt">34
&lt;/span>&lt;span class="lnt">35
&lt;/span>&lt;span class="lnt">36
&lt;/span>&lt;span class="lnt">37
&lt;/span>&lt;span class="lnt">38
&lt;/span>&lt;span class="lnt">39
&lt;/span>&lt;span class="lnt">40
&lt;/span>&lt;span class="lnt">41
&lt;/span>&lt;span class="lnt">42
&lt;/span>&lt;span class="lnt">43
&lt;/span>&lt;span class="lnt">44
&lt;/span>&lt;span class="lnt">45
&lt;/span>&lt;span class="lnt">46
&lt;/span>&lt;span class="lnt">47
&lt;/span>&lt;span class="lnt">48
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># -*- coding:utf-8 -*-&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># _author_:shineee&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kn">import&lt;/span> &lt;span class="nn">requests&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kn">from&lt;/span> &lt;span class="nn">bs4&lt;/span> &lt;span class="kn">import&lt;/span> &lt;span class="n">BeautifulSoup&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kn">import&lt;/span> &lt;span class="nn">os&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kn">import&lt;/span> &lt;span class="nn">re&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">headers&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">{&lt;/span>&lt;span class="s1">&amp;#39;User-Agent&amp;#39;&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="s2">&amp;#34;Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/537.1 (KHTML, like Gecko) Chrome/22.0.1207.1 Safari/537.1&amp;#34;&lt;/span>&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">##浏览器请求头（大部分网站没有这个请求头会报错、请务必加上）&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">baseUrl&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s1">&amp;#39;http://www.qiubaichengren.com&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">start_html&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">requests&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">get&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">baseUrl&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">headers&lt;/span>&lt;span class="o">=&lt;/span> &lt;span class="n">headers&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">##将原网页内容提取出来。避免编码不同造成中文乱码&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">content&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">start_html&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">content&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">##声明soup变量，然后找出图片地址&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">soup&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">BeautifulSoup&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">content&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s1">&amp;#39;lxml&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">#末页&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">maxPages&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">soup&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">find&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;div&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="n">class_&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s1">&amp;#39;page&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">find_all&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;a&amp;#39;&lt;/span>&lt;span class="p">)[&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">][&lt;/span>&lt;span class="s1">&amp;#39;href&amp;#39;&lt;/span>&lt;span class="p">]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">maxpage0&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">re&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">findall&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;\d+&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="n">maxPages&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">#最大页面值&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">maxpage&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">maxpage0&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="mi">0&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="c1">#因为正则表达式出来的是数组，所以这里提取数组中的第一个数，也是唯一一个&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">for&lt;/span> &lt;span class="n">page&lt;/span> &lt;span class="ow">in&lt;/span> &lt;span class="nb">range&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="mi">5&lt;/span>&lt;span class="p">):&lt;/span>&lt;span class="c1">#这里5可以改成maxpage，但是太多了- -八百多页呢，喜欢的话自己可以慢慢等。。&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">page_url&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">baseUrl&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="s1">&amp;#39;/&amp;#39;&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="nb">str&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">page&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="s1">&amp;#39;.html&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">img_html&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">requests&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">get&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">page_url&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="n">headers&lt;/span>&lt;span class="o">=&lt;/span> &lt;span class="n">headers&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">img_soup&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">BeautifulSoup&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">img_html&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">content&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="s1">&amp;#39;lxml&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">img_url&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">img_soup&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">find&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;div&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">class_&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s1">&amp;#39;ui-main&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">find_all&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;img&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">titles&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">img_soup&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">select&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;div[class=&amp;#34;mtitle&amp;#34;]&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="c1">##获取图片标题&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">path&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nb">str&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">page&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="n">os&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">path&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">exists&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;D:\meizitu&lt;/span>&lt;span class="se">\\&lt;/span>&lt;span class="s1">&amp;#39;&lt;/span>&lt;span class="o">+&lt;/span>&lt;span class="n">path&lt;/span>&lt;span class="p">):&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nb">print&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;文件夹已存在&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">else&lt;/span>&lt;span class="p">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">os&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">makedirs&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">os&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">path&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">join&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;D:\meizitu&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="n">path&lt;/span>&lt;span class="p">))&lt;/span> &lt;span class="c1">#创建文件夹&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">os&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">chdir&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;D:\meizitu&lt;/span>&lt;span class="se">\\&lt;/span>&lt;span class="s2">&amp;#34;&lt;/span>&lt;span class="o">+&lt;/span>&lt;span class="n">path&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">for&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="ow">in&lt;/span> &lt;span class="nb">range&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">0&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="mi">8&lt;/span>&lt;span class="p">):&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">name&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">titles&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="p">]&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">get_text&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="c1">#图片标题&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">imgs&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">img_url&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="p">][&lt;/span>&lt;span class="s1">&amp;#39;src&amp;#39;&lt;/span>&lt;span class="p">]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">img&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">requests&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">get&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">imgs&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="n">headers&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="n">headers&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="n">imgs&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="mi">3&lt;/span>&lt;span class="p">:]&lt;/span> &lt;span class="o">==&lt;/span> &lt;span class="s2">&amp;#34;gif&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">f&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nb">open&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">name&lt;/span>&lt;span class="o">+&lt;/span>&lt;span class="s1">&amp;#39;.gif&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="s1">&amp;#39;ab&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">f&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">write&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">img&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">content&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">f&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">close&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">else&lt;/span>&lt;span class="p">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">f&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nb">open&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">name&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="s1">&amp;#39;.jpg&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s1">&amp;#39;ab&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">f&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">write&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">img&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">content&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">f&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">close&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nb">print&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;第&amp;#39;&lt;/span>&lt;span class="o">+&lt;/span>&lt;span class="nb">str&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">page&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="o">+&lt;/span>&lt;span class="s1">&amp;#39;页写入完成&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nb">print&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;写入完毕。&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div></description></item><item><title>常用的Chrome拓展</title><link>https://blog.shineee.site/p/2016/10/17/good-chrome-extensions/</link><pubDate>Mon, 17 Oct 2016 23:00:47 +0800</pubDate><guid>https://blog.shineee.site/p/2016/10/17/good-chrome-extensions/</guid><description>&lt;p>Chrome作为除IE之外大佬级别的存在,对于程序猿来说是不可缺失的.虽然它吃内存,耗电大,但是人们选择它必然有足够的理由.于我而言,更好的拓展性就是最吸引我的.&lt;/p>
&lt;p>不得不说,google的拓展插件让浏览器不再仅仅是浏览器,随着人们日常生活的需求增加,浏览网页也不再是单纯的浏览网页了&amp;ndash; 好怪异的话啊(&lt;/p>
&lt;p>工具只是工具,更好的使用工具才能让工具发挥出应有的潜力.简单讲讲我经常用的几款插件&lt;/p>
&lt;h2 id="谷歌访问助手">谷歌访问助手
&lt;/h2>&lt;p>&lt;a class="link" href="https://github.com/haotian-wang/google-access-helper" target="_blank" rel="noopener"
>https://github.com/haotian-wang/google-access-helper&lt;/a>&lt;/p>
&lt;p>不必多说.&lt;/p>
&lt;h2 id="crxmouse-chrome-gesture">crxMouse Chrome Gesture
&lt;/h2>&lt;p>​ 一款手势插件，十分方便快捷，当然某些国产浏览器自带手势功能。这个插件功能非常多，除了基本的前进后退关闭等功能，还有额外的拖曳编辑等，并支持配置的导入导出以及云同步。&lt;/p>
&lt;h2 id="google翻译">Google翻译
&lt;/h2>&lt;p>官方出品，支持页面划词翻译和整个页面翻译。之前用有道，但是每次都要开软件，而且很不人性化，划词之后直接翻译了，不知道现在改了没有。这个插件在选词之后会出现一个图标，点击即可翻译。并且可以自选语言（当然啦，机翻嘛，效果你懂就好）&lt;/p>
&lt;h2 id="onenote-web-clipper">Onenote Web Clipper
&lt;/h2>&lt;p>微软自家的插件，如果你是Onenote用户，这个插件必不可少。因为在 Microsoft Edge 中已经集成了Onenote的手机功能，在Edge中你可以直接将网页发送到Onenote，而且可以全页面截取，并且可以在上面进行修改编辑。但是Chrome上的插件功能更加全面，不仅支持页面截取，还&lt;/p>
&lt;p>甚至可以选中一段文字直接收集发送到Onenote，自带荧光笔&lt;/p>
&lt;p>就问你怕不怕咯&lt;/p>
&lt;h2 id="ublock-origin">uBlock origin
&lt;/h2>&lt;p>一款高效的网络请求过滤工具，占用极低的内存和 CPU。我用它代替了AdBlock，所以你知道它是做什么的咯。&lt;/p>
&lt;p>想必AdBlock，占用内存更小，嗯，主要是这点。。其实功能上都差不多了，现在许多网站（主要是视频网站）都反AdBlock了，虽然广告屏蔽了，但是你得看一段黑屏。尽管如此，也好过让我看那些奇葩页游的广告。(你的时间非常值钱(&lt;em>^_^&lt;/em>)&lt;/p>
&lt;h2 id="simple-undo-close">Simple Undo Close
&lt;/h2>&lt;p>相当于一个历史记录，点击之后会看到刚刚关闭的网页，相当于撤销吧。许多国产浏览器也是自带的有&lt;/p>
&lt;h2 id="ie-tab">IE Tab
&lt;/h2>&lt;p>IE作为默认浏览器那么多年，终于也随着Win10 Edge的出现退出了舞台，でも，很多网站是基于ie内核浏览器建立的，要求你使用ie内核的浏览器才能正常工作，比如网银什么的。而且，学校的官网，必须让你用IE，还是IE8.0，这就很伤了。什么年代了你让我去哪儿给你找ie8- - 这个插件在运行之前会自动弹出一个下载，点击保存之后运行就能正常使用了&lt;/p>
&lt;h2 id="extensions-manager-aka-switcher">Extensions Manager (aka Switcher)
&lt;/h2>&lt;p>管理插件的插件。很可能你是个插件达人，下载了好多好多拓展，但是很多你平常都用不到，如果一直开着是十分占内存的，删掉又没必要，所以这款管理插件十分贴人心。简洁明了占内存小，除了管理拓展之外还可以管理Chrome主题。（讲真我每次换以前的主题都要重新到WebStroe搜索真的好烦躁。。）&lt;/p>
&lt;p>&lt;img src="https://pic.sikie.wang/images/2019/10/08/extension.png"
loading="lazy"
alt="extension.png"
>&lt;/p></description></item><item><title>炮弹要飞多远才会停止</title><link>https://blog.shineee.site/p/2016/10/15/iamyoungerthanthatnow/</link><pubDate>Sat, 15 Oct 2016 13:00:47 +0800</pubDate><guid>https://blog.shineee.site/p/2016/10/15/iamyoungerthanthatnow/</guid><description>&lt;p>前日，瑞典学院授予 Bob Dylan 诺贝尔文学奖，表彰其“在美国歌曲传统中创造了新的诗歌表达”(having created new poetic expressions within the great American song tradition.)。&lt;/p>
&lt;p>&lt;img src="https://pic.sikie.wang/images/2019/10/08/timgimagequality80sizeb9999_10000sec1570532662126die7f92806f16b84faef0c119151666f04imgtype0srchttp3A2F2Fmediad.publicbroadcasting.net2Fp2Fshared2Fnpr2Fstyles2Fx_large2Fnprshared2F2014122F369685020.jpg"
loading="lazy"
alt="bob2.jpg"
>&lt;/p>
&lt;p>Bob Dylan (1941.5.24－)，美国唱作人、艺术家和作家。从1961年发布首张专辑至今，迪伦在流行音乐界和文化界起到的影响已超过50年。他的大多数著名作品都来自1960年代的反抗民谣，也被广泛认为是当时&lt;strong>美国新兴的反叛文化的代言人&lt;/strong>，尽管他否认了这一点。&lt;/p>
&lt;p>高中的时候，政治老师在课堂上给我们播放了关于 Bob Dylan 的一期凤凰的访谈节目&amp;ndash;《环球人物周刊》，那时高一，2011年，正值 Bob Dylan 在华举行演唱会，那是他首次在华登台演出。老爷子那时都70岁了，一把吉他一把口琴。片头的自我介绍深入人心&lt;/p>
&lt;blockquote>
&lt;p>我不想引领时代，却是美国民权运动的代言人；&lt;/p>
&lt;p>我不是作家，却屡次获诺贝尔文学奖提名；&lt;/p>
&lt;p>所有堆积如山的头衔都不是我，&lt;/p>
&lt;p>我有且只有一个名字&amp;mdash;-Bob Dylan&lt;/p>&lt;/blockquote>
&lt;hr>
&lt;p>1963年8月28日，马丁路德金在华盛顿林肯纪念堂发表了撼动世界的演讲《I Have a Dream》。之后， Bob Dylan 在浩瀚的人群中演唱了他刚创作不久的歌曲《Blowin&amp;rsquo; in the Wind》。他与马丁路德金一样，发出了时代的强音。&lt;/p>
&lt;p>&lt;img src="http://mmbiz.qpic.cn/mmbiz_jpg/hQibibx5uKmd9LaBMIvOqCc0YP6NMUcRY0mRo1yHhFErPIrRbwOIx6xliaicp5ys4ic02Ou03FOAJGfU9nAEyX2jyxw/640?tp=webp&amp;amp;wxfrom=5&amp;amp;wx_lazy=1&amp;amp;wx_co=1"
loading="lazy"
alt="img"
>&lt;/p>
&lt;p>&lt;img src="http://mmbiz.qpic.cn/mmbiz_png/yqVAqoZvDibH6wIACp4pdkzLJA0cfQiazZpkBpT6TQAO2ghO1yHrBtUibGSo8Rjn4oprohDHvQrTrgbkicGcHtic0icw/640?wx_fmt=png&amp;amp;tp=webp&amp;amp;wxfrom=5&amp;amp;wx_lazy=1&amp;amp;wx_co=1"
loading="lazy"
alt="img"
>&lt;/p>
&lt;blockquote>
&lt;p>如果说猫王给摇滚以形式，那么 Bob 给摇滚以灵魂。&lt;/p>&lt;/blockquote>
&lt;p>相比村上春树、阿多尼斯等热门得奖候选作家来说，文学界对于鲍勃·迪伦得奖颇感意外，但这次并非实鲍勃·迪伦首次与诺奖触电。&lt;/p>
&lt;p>早在1996年，戈登·鲍尔代表竞选委员会为鲍勃·迪伦正式提名诺贝尔文学奖，他向媒体宣读艾伦·金斯伯格的推荐信：“虽然他作为一个音乐家而闻名，但如果忽略了他在文学上非凡的成就，那么这将是一个巨大的错误。事实上，音乐和诗是联系着的，迪伦先生的作品异常重要地帮助我们恢复了这至关重要的联系。”&lt;/p>
&lt;p>&lt;img src="https://pic.sikie.wang/images/2019/10/08/comment.png"
loading="lazy"
alt="comment.png"
>&lt;/p>
&lt;p>文学是面向每个人的内心，还是面向看上去更大写的现实，这是诺贝尔文学奖历史上的永恒困境。无论怎样，Bob Dylan 的成就获奖并不过分。虽然村上春树可能。。。。并不伤心，因为他也是迪伦的粉丝，在他的作品里，很多地方都体现出了他对这位老者的热爱。所以迪伦获奖，作为粉丝的他，心底里应该也是十分高兴的吧。&lt;/p>
&lt;p>&lt;img src="https://pic.sikie.wang/images/2019/10/08/bobdylan.png"
loading="lazy"
alt="bobdylan.png"
>&lt;/p>
&lt;p>昔日我曾老去，&lt;/p>
&lt;p>如今我风华正茂。&lt;/p>
&lt;p>愿迪伦，永远年轻。&lt;/p>
&lt;blockquote>
&lt;p>遇见她就像是走进了《一千零一夜》&lt;strong>。&lt;/strong>&lt;/p>
&lt;p>&lt;strong>她的微笑照亮了一整条熙熙攘攘的街。&lt;/strong>&lt;/p>
&lt;p>&lt;strong>她就像是罗丹的雕塑被赋予生命。&lt;/strong>&lt;/p>
&lt;p>——迪伦这样描述对初恋情人苏西的一见钟情。&lt;/p>&lt;/blockquote></description></item><item><title>关于绑定github pages二级域名</title><link>https://blog.shineee.site/p/2016/10/10/github-pages-secend-name/</link><pubDate>Mon, 10 Oct 2016 10:00:47 +0800</pubDate><guid>https://blog.shineee.site/p/2016/10/10/github-pages-secend-name/</guid><description>&lt;p>最近在用Hexo配置好博客的&lt;a class="link" href="http://blog.shineee.site" target="_blank" rel="noopener"
>主页面&lt;/a>后，又想来倒持一下来弄个好看的真·主页。后来在各个Hexo的主题下面，看到了&lt;a class="link" href="https://github.com/iissnan" target="_blank" rel="noopener"
>@iissnan&lt;/a>的&lt;a class="link" href="http://iissnan.com/" target="_blank" rel="noopener"
>主页&lt;/a>。很好看，就去clone下来了，稍微稍微加工了一下。&lt;/p>
&lt;p>因为github.io绑定的域名是blog.shineee.site。所以新建了一个repo然后在主页面新建CNAME指向真主页域名shineee.win就可以了。&lt;/p>
&lt;p>在dnspod解析里面，加上一个blog的指向github.io就ok。&lt;/p></description></item><item><title>改进的Python贴吧爬虫代码</title><link>https://blog.shineee.site/p/2016/09/26/python-spiders-improved/</link><pubDate>Mon, 26 Sep 2016 10:00:47 +0800</pubDate><guid>https://blog.shineee.site/p/2016/09/26/python-spiders-improved/</guid><description>&lt;p>之前在知乎上面看到许多用Python爬虫做的有趣项目，于是也去学习了一番（入门）。看到很多教程都有关于贴吧爬虫的小例子，于是自己也跟着做了一遍。&lt;/p>
&lt;p>可能是教程时间有点早了，多数都是两三年前的，基本都是用正则表达式来提取关键信息，而且还专门写了一个类来处理各种HTML标签。正则表达式并不难学，但是要真正弄清除却很耗时间，尤其对于新手来说，读懂正则表达式是一件很头疼的事，写出正确的表达式更头疼。&lt;/p>
&lt;p>后来学习了requests和beautiful soup两个库，那感觉，仿佛春风拂过泸沽湖,秋雨浸润九寨沟。怎一个&lt;strong>爽&lt;/strong>字了得。&lt;/p>
&lt;p>关于requests和beautiful soup两个库的教程网上有很多，我看的是&lt;a class="link" href="http://cuiqingcai.com/1052.html" target="_blank" rel="noopener"
>崔庆才的博客&lt;/a>,内容十分全面，里面的Python爬虫教程也十分适合入门学习。&lt;/p>
&lt;p>在其原有的贴吧爬虫代码的基础上，我将提取内容的正则表达式全部替换成了用beautiful soup来获取网页标签内容。&lt;/p>
&lt;p>简单来说，Beautiful Soup是python的一个库，最主要的功能是从网页抓取数据。官方解释如下：&lt;/p>
&lt;blockquote>
&lt;p>Beautiful Soup提供一些简单的、python式的函数用来处理导航、搜索、修改分析树等功能。它是一个工具箱，通过解析文档为用户提供需要抓取的数据，因为简单，所以不需要多少代码就可以写出一个完整的应用程序。&lt;/p>
&lt;p>Beautiful Soup自动将输入文档转换为Unicode编码，输出文档转换为utf-8编码。你不需要考虑编码方式，除非文档没有指定一个编码方式，这时，Beautiful Soup就不能自动识别编码方式了。然后，你仅仅需要说明一下原始编码方式就可以了。&lt;/p>
&lt;p>Beautiful Soup已成为和lxml、html6lib一样出色的python解释器，为用户灵活地提供不同的解析策略或强劲的速度。&lt;/p>&lt;/blockquote>
&lt;p>上代码：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt"> 10
&lt;/span>&lt;span class="lnt"> 11
&lt;/span>&lt;span class="lnt"> 12
&lt;/span>&lt;span class="lnt"> 13
&lt;/span>&lt;span class="lnt"> 14
&lt;/span>&lt;span class="lnt"> 15
&lt;/span>&lt;span class="lnt"> 16
&lt;/span>&lt;span class="lnt"> 17
&lt;/span>&lt;span class="lnt"> 18
&lt;/span>&lt;span class="lnt"> 19
&lt;/span>&lt;span class="lnt"> 20
&lt;/span>&lt;span class="lnt"> 21
&lt;/span>&lt;span class="lnt"> 22
&lt;/span>&lt;span class="lnt"> 23
&lt;/span>&lt;span class="lnt"> 24
&lt;/span>&lt;span class="lnt"> 25
&lt;/span>&lt;span class="lnt"> 26
&lt;/span>&lt;span class="lnt"> 27
&lt;/span>&lt;span class="lnt"> 28
&lt;/span>&lt;span class="lnt"> 29
&lt;/span>&lt;span class="lnt"> 30
&lt;/span>&lt;span class="lnt"> 31
&lt;/span>&lt;span class="lnt"> 32
&lt;/span>&lt;span class="lnt"> 33
&lt;/span>&lt;span class="lnt"> 34
&lt;/span>&lt;span class="lnt"> 35
&lt;/span>&lt;span class="lnt"> 36
&lt;/span>&lt;span class="lnt"> 37
&lt;/span>&lt;span class="lnt"> 38
&lt;/span>&lt;span class="lnt"> 39
&lt;/span>&lt;span class="lnt"> 40
&lt;/span>&lt;span class="lnt"> 41
&lt;/span>&lt;span class="lnt"> 42
&lt;/span>&lt;span class="lnt"> 43
&lt;/span>&lt;span class="lnt"> 44
&lt;/span>&lt;span class="lnt"> 45
&lt;/span>&lt;span class="lnt"> 46
&lt;/span>&lt;span class="lnt"> 47
&lt;/span>&lt;span class="lnt"> 48
&lt;/span>&lt;span class="lnt"> 49
&lt;/span>&lt;span class="lnt"> 50
&lt;/span>&lt;span class="lnt"> 51
&lt;/span>&lt;span class="lnt"> 52
&lt;/span>&lt;span class="lnt"> 53
&lt;/span>&lt;span class="lnt"> 54
&lt;/span>&lt;span class="lnt"> 55
&lt;/span>&lt;span class="lnt"> 56
&lt;/span>&lt;span class="lnt"> 57
&lt;/span>&lt;span class="lnt"> 58
&lt;/span>&lt;span class="lnt"> 59
&lt;/span>&lt;span class="lnt"> 60
&lt;/span>&lt;span class="lnt"> 61
&lt;/span>&lt;span class="lnt"> 62
&lt;/span>&lt;span class="lnt"> 63
&lt;/span>&lt;span class="lnt"> 64
&lt;/span>&lt;span class="lnt"> 65
&lt;/span>&lt;span class="lnt"> 66
&lt;/span>&lt;span class="lnt"> 67
&lt;/span>&lt;span class="lnt"> 68
&lt;/span>&lt;span class="lnt"> 69
&lt;/span>&lt;span class="lnt"> 70
&lt;/span>&lt;span class="lnt"> 71
&lt;/span>&lt;span class="lnt"> 72
&lt;/span>&lt;span class="lnt"> 73
&lt;/span>&lt;span class="lnt"> 74
&lt;/span>&lt;span class="lnt"> 75
&lt;/span>&lt;span class="lnt"> 76
&lt;/span>&lt;span class="lnt"> 77
&lt;/span>&lt;span class="lnt"> 78
&lt;/span>&lt;span class="lnt"> 79
&lt;/span>&lt;span class="lnt"> 80
&lt;/span>&lt;span class="lnt"> 81
&lt;/span>&lt;span class="lnt"> 82
&lt;/span>&lt;span class="lnt"> 83
&lt;/span>&lt;span class="lnt"> 84
&lt;/span>&lt;span class="lnt"> 85
&lt;/span>&lt;span class="lnt"> 86
&lt;/span>&lt;span class="lnt"> 87
&lt;/span>&lt;span class="lnt"> 88
&lt;/span>&lt;span class="lnt"> 89
&lt;/span>&lt;span class="lnt"> 90
&lt;/span>&lt;span class="lnt"> 91
&lt;/span>&lt;span class="lnt"> 92
&lt;/span>&lt;span class="lnt"> 93
&lt;/span>&lt;span class="lnt"> 94
&lt;/span>&lt;span class="lnt"> 95
&lt;/span>&lt;span class="lnt"> 96
&lt;/span>&lt;span class="lnt"> 97
&lt;/span>&lt;span class="lnt"> 98
&lt;/span>&lt;span class="lnt"> 99
&lt;/span>&lt;span class="lnt">100
&lt;/span>&lt;span class="lnt">101
&lt;/span>&lt;span class="lnt">102
&lt;/span>&lt;span class="lnt">103
&lt;/span>&lt;span class="lnt">104
&lt;/span>&lt;span class="lnt">105
&lt;/span>&lt;span class="lnt">106
&lt;/span>&lt;span class="lnt">107
&lt;/span>&lt;span class="lnt">108
&lt;/span>&lt;span class="lnt">109
&lt;/span>&lt;span class="lnt">110
&lt;/span>&lt;span class="lnt">111
&lt;/span>&lt;span class="lnt">112
&lt;/span>&lt;span class="lnt">113
&lt;/span>&lt;span class="lnt">114
&lt;/span>&lt;span class="lnt">115
&lt;/span>&lt;span class="lnt">116
&lt;/span>&lt;span class="lnt">117
&lt;/span>&lt;span class="lnt">118
&lt;/span>&lt;span class="lnt">119
&lt;/span>&lt;span class="lnt">120
&lt;/span>&lt;span class="lnt">121
&lt;/span>&lt;span class="lnt">122
&lt;/span>&lt;span class="lnt">123
&lt;/span>&lt;span class="lnt">124
&lt;/span>&lt;span class="lnt">125
&lt;/span>&lt;span class="lnt">126
&lt;/span>&lt;span class="lnt">127
&lt;/span>&lt;span class="lnt">128
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="line">&lt;span class="cl">&lt;span class="c1">#-*- coding: UTF-8 -*-&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">#__author__shineee&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">#__time__2016.10__&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">#__Python27__&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kn">import&lt;/span> &lt;span class="nn">requests&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kn">import&lt;/span> &lt;span class="nn">re&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kn">from&lt;/span> &lt;span class="nn">bs4&lt;/span> &lt;span class="kn">import&lt;/span> &lt;span class="n">BeautifulSoup&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kn">from&lt;/span> &lt;span class="nn">itertools&lt;/span> &lt;span class="kn">import&lt;/span> &lt;span class="n">chain&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kn">import&lt;/span> &lt;span class="nn">string&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kn">import&lt;/span> &lt;span class="nn">sys&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">reload&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">sys&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">sys&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">setdefaultencoding&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;utf-8&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">class&lt;/span> &lt;span class="nc">Tieba&lt;/span>&lt;span class="p">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">def&lt;/span> &lt;span class="fm">__init__&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="bp">self&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">baseUrl&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">seeLZ&lt;/span>&lt;span class="p">):&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1"># base链接地址&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="bp">self&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">baseURL&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">baseUrl&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1"># 是否只看楼主&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="bp">self&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">seeLZ&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s1">&amp;#39;?see_lz=&amp;#39;&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="nb">str&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">seeLZ&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1"># 全局file变量，文件写入操作对象&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="bp">self&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">file&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="kc">None&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">#默认的标题，如果没有成功获取到标题的话则会用这个标题&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="bp">self&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">defaultTitle&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="sa">u&lt;/span>&lt;span class="s2">&amp;#34;百度贴吧&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">def&lt;/span> &lt;span class="nf">getPage&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="bp">self&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">pageNum&lt;/span>&lt;span class="p">):&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">try&lt;/span>&lt;span class="p">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1"># 构建URL&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">url&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="bp">self&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">baseURL&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="bp">self&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">seeLZ&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="s1">&amp;#39;&amp;amp;pn=&amp;#39;&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="nb">str&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">pageNum&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">response&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">requests&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">get&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">url&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">text&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">encode&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;utf-8&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1"># 返回UTF-8格式编码内容&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="n">response&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">replace&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;&amp;lt;br&amp;gt;&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s1">&amp;#39;&lt;/span>&lt;span class="se">\n&lt;/span>&lt;span class="s1">&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1"># 无法连接，报错&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">except&lt;/span> &lt;span class="ne">ValueError&lt;/span> &lt;span class="k">as&lt;/span> &lt;span class="n">e&lt;/span>&lt;span class="p">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="nb">hasattr&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">e&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s2">&amp;#34;reason&amp;#34;&lt;/span>&lt;span class="p">):&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nb">print&lt;/span> &lt;span class="sa">u&lt;/span>&lt;span class="s2">&amp;#34;连接百度贴吧失败,错误原因&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">e&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">reason&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="kc">None&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1"># 获取帖子标题&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">def&lt;/span> &lt;span class="nf">getTitle&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="bp">self&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">page&lt;/span>&lt;span class="p">):&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">#新建soup对象&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">soup&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">BeautifulSoup&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">page&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">#获取标题&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">title&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">unicode&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">soup&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">h3&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">string&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="n">title&lt;/span>&lt;span class="p">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1"># 如果存在，则返回标题&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1"># 若文件名中有/符号则替换掉 否则写入文件时会出错&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="n">title&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">replace&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;/&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s1">&amp;#39; &amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">else&lt;/span>&lt;span class="p">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="kc">None&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1"># 获取帖子一共有多少页&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">def&lt;/span> &lt;span class="nf">getPageNum&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="bp">self&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">page&lt;/span>&lt;span class="p">):&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">soup&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">BeautifulSoup&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">page&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">#利用soup的select规则找出帖子总页码数&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">page&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">soup&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">select&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;li[style=&amp;#34;margin-left:8px&amp;#34;]&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">for&lt;/span> &lt;span class="n">ii&lt;/span> &lt;span class="ow">in&lt;/span> &lt;span class="n">page&lt;/span>&lt;span class="p">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">nums&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">ii&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">get_text&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">break&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">num&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">re&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">findall&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="sa">r&lt;/span>&lt;span class="s1">&amp;#39;[0-9]+(?=[^0-9]*$)&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">nums&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">result&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s1">&amp;#39;&amp;#39;&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">join&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">num&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="n">result&lt;/span>&lt;span class="p">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="n">result&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">else&lt;/span>&lt;span class="p">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="kc">None&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">def&lt;/span> &lt;span class="nf">setFileTitle&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="bp">self&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">title&lt;/span>&lt;span class="p">):&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1"># 如果标题不是为None，即成功获取到标题&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="n">title&lt;/span> &lt;span class="ow">is&lt;/span> &lt;span class="ow">not&lt;/span> &lt;span class="kc">None&lt;/span>&lt;span class="p">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="bp">self&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">file&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nb">open&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">title&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="s2">&amp;#34;.txt&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s2">&amp;#34;w+&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">else&lt;/span>&lt;span class="p">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="bp">self&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">file&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nb">open&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="bp">self&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">defaultTitle&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="s2">&amp;#34;.txt&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s2">&amp;#34;w+&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1"># 获取每一层楼的内容,传入页面内容&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">def&lt;/span> &lt;span class="nf">getContent&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="bp">self&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">page&lt;/span>&lt;span class="p">):&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1"># 匹配所有楼层的内容&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">contents1&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">[]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">contents2&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">[]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">soup&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">BeautifulSoup&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">page&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">#获取帖子发布时间&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">time&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">soup&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">select&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;div[class=&amp;#34;post-tail-wrap&amp;#34;]&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">for&lt;/span> &lt;span class="n">ii&lt;/span> &lt;span class="ow">in&lt;/span> &lt;span class="n">time&lt;/span>&lt;span class="p">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">texts&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">ii&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">get_text&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39; &amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">#将无用信息去除掉&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">texts2&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">texts&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">rjust&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">80&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">replace&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="sa">u&lt;/span>&lt;span class="s1">&amp;#39;举报 | 侵权举报 有害信息举报 &amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s1">&amp;#39;&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">contents1&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">append&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">texts2&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="s1">&amp;#39;&lt;/span>&lt;span class="se">\n&lt;/span>&lt;span class="s1">&amp;#39;&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="s1">&amp;#39;&lt;/span>&lt;span class="se">\n&lt;/span>&lt;span class="s1">&amp;#39;&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="s1">&amp;#39;-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1"># 提取正文内容&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">items&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">soup&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">select&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;cc&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">for&lt;/span> &lt;span class="n">iii&lt;/span> &lt;span class="ow">in&lt;/span> &lt;span class="n">items&lt;/span>&lt;span class="p">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">contents2&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">append&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">iii&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">get_text&lt;/span>&lt;span class="p">()&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">encode&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;utf8&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">lstrip&lt;/span>&lt;span class="p">())&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">#将两个list合并为一个list 重叠合并&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">contents&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nb">list&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">chain&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">from_iterable&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nb">zip&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">contents2&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">contents1&lt;/span>&lt;span class="p">)))&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="n">contents&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1"># 向文件写入每一楼的信息&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">def&lt;/span> &lt;span class="nf">writeData&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="bp">self&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">contents&lt;/span>&lt;span class="p">):&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">for&lt;/span> &lt;span class="n">item&lt;/span> &lt;span class="ow">in&lt;/span> &lt;span class="n">contents&lt;/span>&lt;span class="p">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="bp">self&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">file&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">write&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">item&lt;/span>&lt;span class="o">+&lt;/span>&lt;span class="s1">&amp;#39;&lt;/span>&lt;span class="se">\n&lt;/span>&lt;span class="s1">&amp;#39;&lt;/span>&lt;span class="o">+&lt;/span>&lt;span class="s1">&amp;#39;&lt;/span>&lt;span class="se">\n&lt;/span>&lt;span class="s1">&amp;#39;&lt;/span>&lt;span class="o">+&lt;/span>&lt;span class="s1">&amp;#39;&lt;/span>&lt;span class="se">\n&lt;/span>&lt;span class="s1">&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">def&lt;/span> &lt;span class="nf">start&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="bp">self&lt;/span>&lt;span class="p">):&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">indexPage&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="bp">self&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">getPage&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">pageNum&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="bp">self&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">getPageNum&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">indexPage&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">title&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="bp">self&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">getTitle&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">indexPage&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="bp">self&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">setFileTitle&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">title&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="n">pageNum&lt;/span> &lt;span class="o">==&lt;/span> &lt;span class="kc">None&lt;/span>&lt;span class="p">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nb">print&lt;/span> &lt;span class="s2">&amp;#34;URL已失效，请重试&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">try&lt;/span>&lt;span class="p">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nb">print&lt;/span> &lt;span class="s2">&amp;#34;该帖子共有&amp;#34;&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="nb">str&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">pageNum&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="s2">&amp;#34;页&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">for&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="ow">in&lt;/span> &lt;span class="nb">range&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nb">int&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">pageNum&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">):&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nb">print&lt;/span> &lt;span class="s2">&amp;#34;正在写入第&amp;#34;&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="nb">str&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="s2">&amp;#34;页数据&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">page&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="bp">self&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">getPage&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">contents&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="bp">self&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">getContent&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">page&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="bp">self&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">writeData&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">contents&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1"># 出现写入异常&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">except&lt;/span> &lt;span class="ne">IOError&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">e&lt;/span>&lt;span class="p">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nb">print&lt;/span> &lt;span class="s2">&amp;#34;写入异常，原因&amp;#34;&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="n">e&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">message&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">finally&lt;/span>&lt;span class="p">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nb">print&lt;/span> &lt;span class="s2">&amp;#34;写入任务完成&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nb">print&lt;/span> &lt;span class="sa">u&lt;/span>&lt;span class="s2">&amp;#34;请输入帖子代号&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">baseURL&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s1">&amp;#39;http://tieba.baidu.com/p/&amp;#39;&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="nb">str&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">raw_input&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="sa">u&lt;/span>&lt;span class="s1">&amp;#39;http://tieba.baidu.com/p/&amp;#39;&lt;/span>&lt;span class="p">))&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">seeLZ&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">raw_input&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="sa">u&lt;/span>&lt;span class="s2">&amp;#34;是否只获取楼主发言，是输入1，否输入0&lt;/span>&lt;span class="se">\n&lt;/span>&lt;span class="s2">&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">bdtb&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">Tieba&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">baseURL&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">seeLZ&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">bdtb&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">start&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>相比较正则表达式而言，soup更加清晰明了，也更便于操作。&lt;/p></description></item><item><title>关于</title><link>https://blog.shineee.site/about/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://blog.shineee.site/about/</guid><description/></item><item><title>归档</title><link>https://blog.shineee.site/archives/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://blog.shineee.site/archives/</guid><description/></item><item><title>搜索</title><link>https://blog.shineee.site/search/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://blog.shineee.site/search/</guid><description/></item><item><title>相册</title><link>https://blog.shineee.site/gallery/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://blog.shineee.site/gallery/</guid><description>&lt;p>这里收集了我的一些照片回忆，记录生活的美好瞬间。&lt;/p></description></item></channel></rss>